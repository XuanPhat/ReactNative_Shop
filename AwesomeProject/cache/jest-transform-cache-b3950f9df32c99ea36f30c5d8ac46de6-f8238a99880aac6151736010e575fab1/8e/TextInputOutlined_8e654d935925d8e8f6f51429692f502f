d52ddc2d8e3644e2561b825aeef799a5
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty3 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault2(require("@babel/runtime/helpers/createClass"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _color = _interopRequireDefault(require("color"));

var _TextInputAdornment = _interopRequireWildcard(require("./Adornment/TextInputAdornment"));

var _InputLabel = _interopRequireDefault(require("./Label/InputLabel"));

var _LabelBackground = _interopRequireDefault(require("./Label/LabelBackground"));

var _constants = require("./constants");

var _helpers = require("./helpers");

var _enums = require("./Adornment/enums");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

function _objectWithoutProperties(source, excluded) {
  if (source == null) return {};

  var target = _objectWithoutPropertiesLoose(source, excluded);

  var key, i;

  if (Object.getOwnPropertySymbols) {
    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);

    for (i = 0; i < sourceSymbolKeys.length; i++) {
      key = sourceSymbolKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;
      target[key] = source[key];
    }
  }

  return target;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

var OUTLINE_MINIMIZED_LABEL_Y_OFFSET = -6;
var LABEL_PADDING_TOP = 8;
var MIN_HEIGHT = 64;
var MIN_DENSE_HEIGHT = 48;
var INPUT_PADDING_HORIZONTAL = 14;

var TextInputOutlined = function (_React$Component) {
  (0, _inherits2.default)(TextInputOutlined, _React$Component);

  var _super = _createSuper(TextInputOutlined);

  function TextInputOutlined() {
    (0, _classCallCheck2.default)(this, TextInputOutlined);
    return _super.apply(this, arguments);
  }

  (0, _createClass2.default)(TextInputOutlined, [{
    key: "render",
    value: function render() {
      var _affixTopPosition, _onAffixChange, _topPosition;

      var _this$props = this.props,
          disabled = _this$props.disabled,
          editable = _this$props.editable,
          label = _this$props.label,
          error = _this$props.error,
          selectionColor = _this$props.selectionColor,
          underlineColor = _this$props.underlineColor,
          dense = _this$props.dense,
          style = _this$props.style,
          theme = _this$props.theme,
          render = _this$props.render,
          multiline = _this$props.multiline,
          parentState = _this$props.parentState,
          innerRef = _this$props.innerRef,
          onFocus = _this$props.onFocus,
          forceFocus = _this$props.forceFocus,
          onBlur = _this$props.onBlur,
          onChangeText = _this$props.onChangeText,
          onLayoutAnimatedText = _this$props.onLayoutAnimatedText,
          onLeftAffixLayoutChange = _this$props.onLeftAffixLayoutChange,
          onRightAffixLayoutChange = _this$props.onRightAffixLayoutChange,
          left = _this$props.left,
          right = _this$props.right,
          placeholderTextColor = _this$props.placeholderTextColor,
          rest = _objectWithoutProperties(_this$props, ["disabled", "editable", "label", "error", "selectionColor", "underlineColor", "dense", "style", "theme", "render", "multiline", "parentState", "innerRef", "onFocus", "forceFocus", "onBlur", "onChangeText", "onLayoutAnimatedText", "onLeftAffixLayoutChange", "onRightAffixLayoutChange", "left", "right", "placeholderTextColor"]);

      var adornmentConfig = (0, _TextInputAdornment.getAdornmentConfig)({
        left: left,
        right: right
      });
      var colors = theme.colors,
          fonts = theme.fonts;
      var font = fonts.regular;
      var hasActiveOutline = parentState.focused || error;

      var _ref = _reactNative.StyleSheet.flatten(style) || {},
          fontSizeStyle = _ref.fontSize,
          fontWeight = _ref.fontWeight,
          height = _ref.height,
          _ref$backgroundColor = _ref.backgroundColor,
          backgroundColor = _ref$backgroundColor === void 0 ? colors.background : _ref$backgroundColor,
          textAlign = _ref.textAlign,
          viewStyle = _objectWithoutProperties(_ref, ["fontSize", "fontWeight", "height", "backgroundColor", "textAlign"]);

      var fontSize = fontSizeStyle || _constants.MAXIMIZED_LABEL_FONT_SIZE;
      var inputTextColor, activeColor, outlineColor, placeholderColor, errorColor;

      if (disabled) {
        inputTextColor = activeColor = (0, _color.default)(colors.text).alpha(0.54).rgb().string();
        placeholderColor = outlineColor = colors.disabled;
      } else {
        inputTextColor = colors.text;
        activeColor = error ? colors.error : colors.primary;
        placeholderColor = outlineColor = colors.placeholder;
        errorColor = colors.error;
      }

      var labelScale = _constants.MINIMIZED_LABEL_FONT_SIZE / fontSize;
      var fontScale = _constants.MAXIMIZED_LABEL_FONT_SIZE / fontSize;
      var labelWidth = parentState.labelLayout.width;
      var labelHeight = parentState.labelLayout.height;
      var labelHalfWidth = labelWidth / 2;
      var labelHalfHeight = labelHeight / 2;
      var baseLabelTranslateX = (_reactNative.I18nManager.isRTL ? 1 : -1) * (labelHalfWidth - labelScale * labelWidth / 2 - (fontSize - _constants.MINIMIZED_LABEL_FONT_SIZE) * labelScale);
      var labelTranslationXOffset = 0;
      var isAdornmentLeftIcon = adornmentConfig.some(function (_ref2) {
        var side = _ref2.side,
            type = _ref2.type;
        return side === _enums.AdornmentSide.Left && type === _enums.AdornmentType.Icon;
      });

      if (isAdornmentLeftIcon) {
        labelTranslationXOffset = (_reactNative.I18nManager.isRTL ? -1 : 1) * (_constants.ADORNMENT_SIZE + _constants.ADORNMENT_OFFSET - 8);
      }

      var minInputHeight = (dense ? MIN_DENSE_HEIGHT : MIN_HEIGHT) - LABEL_PADDING_TOP;
      var inputHeight = (0, _helpers.calculateInputHeight)(labelHeight, height, minInputHeight);
      var topPosition = (0, _helpers.calculateLabelTopPosition)(labelHeight, inputHeight, LABEL_PADDING_TOP);

      if (height && typeof height !== 'number') {
        console.warn('Currently we support only numbers in height prop');
      }

      var paddingSettings = {
        height: height ? +height : null,
        labelHalfHeight: labelHalfHeight,
        offset: LABEL_PADDING_TOP,
        multiline: multiline ? multiline : null,
        dense: dense ? dense : null,
        topPosition: topPosition,
        fontSize: fontSize,
        label: label,
        scale: fontScale,
        isAndroid: _reactNative.Platform.OS === 'android',
        styles: _reactNative.StyleSheet.flatten(dense ? styles.inputOutlinedDense : styles.inputOutlined)
      };
      var pad = (0, _helpers.calculatePadding)(paddingSettings);
      var paddingOut = (0, _helpers.adjustPaddingOut)(_objectSpread(_objectSpread({}, paddingSettings), {}, {
        pad: pad
      }));
      var baseLabelTranslateY = -labelHalfHeight - (topPosition + OUTLINE_MINIMIZED_LABEL_Y_OFFSET);
      var placeholderOpacity = hasActiveOutline ? (0, _helpers.interpolatePlaceholder)(parentState.labeled, hasActiveOutline) : parentState.labelLayout.measured ? 1 : 0;
      var labelProps = {
        label: label,
        onLayoutAnimatedText: onLayoutAnimatedText,
        placeholderOpacity: placeholderOpacity,
        error: error,
        placeholderStyle: styles.placeholder,
        baseLabelTranslateY: baseLabelTranslateY,
        baseLabelTranslateX: baseLabelTranslateX,
        font: font,
        fontSize: fontSize,
        fontWeight: fontWeight,
        labelScale: labelScale,
        wiggleOffsetX: _constants.LABEL_WIGGLE_X_OFFSET,
        topPosition: topPosition,
        hasActiveOutline: hasActiveOutline,
        activeColor: activeColor,
        placeholderColor: placeholderColor,
        backgroundColor: backgroundColor,
        errorColor: errorColor,
        labelTranslationXOffset: labelTranslationXOffset
      };
      var minHeight = height || (dense ? MIN_DENSE_HEIGHT : MIN_HEIGHT);
      var leftLayout = parentState.leftLayout,
          rightLayout = parentState.rightLayout;
      var leftAffixTopPosition = (0, _helpers.calculateOutlinedIconAndAffixTopPosition)({
        height: minHeight,
        affixHeight: leftLayout.height || 0,
        labelYOffset: -OUTLINE_MINIMIZED_LABEL_Y_OFFSET
      });
      var rightAffixTopPosition = (0, _helpers.calculateOutlinedIconAndAffixTopPosition)({
        height: minHeight,
        affixHeight: rightLayout.height || 0,
        labelYOffset: -OUTLINE_MINIMIZED_LABEL_Y_OFFSET
      });
      var iconTopPosition = (0, _helpers.calculateOutlinedIconAndAffixTopPosition)({
        height: minHeight,
        affixHeight: _constants.ADORNMENT_SIZE,
        labelYOffset: -OUTLINE_MINIMIZED_LABEL_Y_OFFSET
      });
      var rightAffixWidth = right ? rightLayout.width || _constants.ADORNMENT_SIZE : _constants.ADORNMENT_SIZE;
      var leftAffixWidth = left ? leftLayout.width || _constants.ADORNMENT_SIZE : _constants.ADORNMENT_SIZE;
      var adornmentStyleAdjustmentForNativeInput = (0, _TextInputAdornment.getAdornmentStyleAdjustmentForNativeInput)({
        adornmentConfig: adornmentConfig,
        rightAffixWidth: rightAffixWidth,
        leftAffixWidth: leftAffixWidth,
        mode: 'outlined'
      });
      var affixTopPosition = (_affixTopPosition = {}, (0, _defineProperty3.default)(_affixTopPosition, _enums.AdornmentSide.Left, leftAffixTopPosition), (0, _defineProperty3.default)(_affixTopPosition, _enums.AdornmentSide.Right, rightAffixTopPosition), _affixTopPosition);
      var onAffixChange = (_onAffixChange = {}, (0, _defineProperty3.default)(_onAffixChange, _enums.AdornmentSide.Left, onLeftAffixLayoutChange), (0, _defineProperty3.default)(_onAffixChange, _enums.AdornmentSide.Right, onRightAffixLayoutChange), _onAffixChange);
      var adornmentProps = {
        adornmentConfig: adornmentConfig,
        forceFocus: forceFocus,
        topPosition: (_topPosition = {}, (0, _defineProperty3.default)(_topPosition, _enums.AdornmentType.Icon, iconTopPosition), (0, _defineProperty3.default)(_topPosition, _enums.AdornmentType.Affix, affixTopPosition), _topPosition),
        onAffixChange: onAffixChange,
        isTextInputFocused: parentState.focused
      };

      if (adornmentConfig.length) {
        adornmentProps = _objectSpread(_objectSpread({}, adornmentProps), {}, {
          left: left,
          right: right,
          textStyle: _objectSpread(_objectSpread({}, font), {}, {
            fontSize: fontSize,
            fontWeight: fontWeight
          }),
          visible: this.props.parentState.labeled
        });
      }

      return React.createElement(_reactNative.View, {
        style: viewStyle
      }, React.createElement(_reactNative.View, null, React.createElement(Outline, {
        theme: theme,
        hasActiveOutline: hasActiveOutline,
        activeColor: activeColor,
        outlineColor: outlineColor,
        backgroundColor: backgroundColor
      }), React.createElement(_reactNative.View, {
        style: {
          paddingTop: LABEL_PADDING_TOP,
          paddingBottom: 0,
          minHeight: minHeight
        }
      }, React.createElement(_InputLabel.default, {
        parentState: parentState,
        labelProps: labelProps,
        labelBackground: _LabelBackground.default
      }), render === null || render === void 0 ? void 0 : render(_objectSpread(_objectSpread({}, rest), {}, {
        ref: innerRef,
        onChangeText: onChangeText,
        placeholder: label ? parentState.placeholder : this.props.placeholder,
        placeholderTextColor: placeholderTextColor || placeholderColor,
        editable: !disabled && editable,
        selectionColor: typeof selectionColor === 'undefined' ? activeColor : selectionColor,
        onFocus: onFocus,
        onBlur: onBlur,
        underlineColorAndroid: 'transparent',
        multiline: multiline,
        style: [styles.input, !multiline || multiline && height ? {
          height: inputHeight
        } : {}, paddingOut, _objectSpread(_objectSpread({}, font), {}, {
          fontSize: fontSize,
          fontWeight: fontWeight,
          color: inputTextColor,
          textAlignVertical: multiline ? 'top' : 'center',
          textAlign: textAlign ? textAlign : _reactNative.I18nManager.isRTL ? 'right' : 'left'
        }), adornmentStyleAdjustmentForNativeInput]
      }))), React.createElement(_TextInputAdornment.default, adornmentProps)));
    }
  }]);
  return TextInputOutlined;
}(React.Component);

_defineProperty(TextInputOutlined, "defaultProps", {
  disabled: false,
  error: false,
  multiline: false,
  editable: true,
  render: function render(props) {
    return React.createElement(_reactNative.TextInput, props);
  }
});

var _default = TextInputOutlined;
exports.default = _default;

var Outline = function Outline(_ref3) {
  var theme = _ref3.theme,
      hasActiveOutline = _ref3.hasActiveOutline,
      activeColor = _ref3.activeColor,
      outlineColor = _ref3.outlineColor,
      backgroundColor = _ref3.backgroundColor;
  return React.createElement(_reactNative.View, {
    pointerEvents: "none",
    style: [styles.outline, {
      backgroundColor: backgroundColor,
      borderRadius: theme.roundness,
      borderWidth: hasActiveOutline ? 2 : 1,
      borderColor: hasActiveOutline ? activeColor : outlineColor
    }]
  });
};

var styles = _reactNative.StyleSheet.create({
  placeholder: {
    position: 'absolute',
    left: 0,
    paddingHorizontal: INPUT_PADDING_HORIZONTAL
  },
  outline: {
    position: 'absolute',
    left: 0,
    right: 0,
    top: 6,
    bottom: 0
  },
  input: {
    flexGrow: 1,
    paddingHorizontal: INPUT_PADDING_HORIZONTAL,
    margin: 0,
    zIndex: 1
  },
  inputOutlined: {
    paddingTop: 8,
    paddingBottom: 8
  },
  inputOutlinedDense: {
    paddingTop: 4,
    paddingBottom: 4
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dE91dGxpbmVkLnRzeCJdLCJuYW1lcyI6WyJPVVRMSU5FX01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCIsIkxBQkVMX1BBRERJTkdfVE9QIiwiTUlOX0hFSUdIVCIsIk1JTl9ERU5TRV9IRUlHSFQiLCJJTlBVVF9QQURESU5HX0hPUklaT05UQUwiLCJUZXh0SW5wdXRPdXRsaW5lZCIsIlJlYWN0IiwiZGlzYWJsZWQiLCJlcnJvciIsIm11bHRpbGluZSIsImVkaXRhYmxlIiwicmVuZGVyIiwicHJvcHMiLCJwbGFjZWhvbGRlclRleHRDb2xvciIsImFkb3JubWVudENvbmZpZyIsImxlZnQiLCJyaWdodCIsImZvbnRzIiwiZm9udCIsImhhc0FjdGl2ZU91dGxpbmUiLCJwYXJlbnRTdGF0ZSIsImZvbnRTaXplIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3JzIiwidGV4dEFsaWduIiwiU3R5bGVTaGVldCIsImZvbnRTaXplU3R5bGUiLCJNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFIiwiaW5wdXRUZXh0Q29sb3IiLCJhY3RpdmVDb2xvciIsInBsYWNlaG9sZGVyQ29sb3IiLCJvdXRsaW5lQ29sb3IiLCJlcnJvckNvbG9yIiwibGFiZWxTY2FsZSIsIk1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUiLCJmb250U2NhbGUiLCJsYWJlbFdpZHRoIiwibGFiZWxIZWlnaHQiLCJsYWJlbEhhbGZXaWR0aCIsImxhYmVsSGFsZkhlaWdodCIsImJhc2VMYWJlbFRyYW5zbGF0ZVgiLCJJMThuTWFuYWdlciIsImxhYmVsVHJhbnNsYXRpb25YT2Zmc2V0IiwiaXNBZG9ybm1lbnRMZWZ0SWNvbiIsInR5cGUiLCJzaWRlIiwiQWRvcm5tZW50U2lkZSIsIkFkb3JubWVudFR5cGUiLCJBRE9STk1FTlRfU0laRSIsIkFET1JOTUVOVF9PRkZTRVQiLCJtaW5JbnB1dEhlaWdodCIsImRlbnNlIiwiaW5wdXRIZWlnaHQiLCJ0b3BQb3NpdGlvbiIsImhlaWdodCIsImNvbnNvbGUiLCJwYWRkaW5nU2V0dGluZ3MiLCJvZmZzZXQiLCJsYWJlbCIsInNjYWxlIiwiaXNBbmRyb2lkIiwiUGxhdGZvcm0iLCJzdHlsZXMiLCJwYWQiLCJwYWRkaW5nT3V0IiwiYmFzZUxhYmVsVHJhbnNsYXRlWSIsInBsYWNlaG9sZGVyT3BhY2l0eSIsImxhYmVsUHJvcHMiLCJvbkxheW91dEFuaW1hdGVkVGV4dCIsInBsYWNlaG9sZGVyU3R5bGUiLCJmb250V2VpZ2h0Iiwid2lnZ2xlT2Zmc2V0WCIsIkxBQkVMX1dJR0dMRV9YX09GRlNFVCIsIm1pbkhlaWdodCIsInJpZ2h0TGF5b3V0IiwibGVmdEFmZml4VG9wUG9zaXRpb24iLCJhZmZpeEhlaWdodCIsImxlZnRMYXlvdXQiLCJsYWJlbFlPZmZzZXQiLCJyaWdodEFmZml4VG9wUG9zaXRpb24iLCJpY29uVG9wUG9zaXRpb24iLCJyaWdodEFmZml4V2lkdGgiLCJsZWZ0QWZmaXhXaWR0aCIsImFkb3JubWVudFN0eWxlQWRqdXN0bWVudEZvck5hdGl2ZUlucHV0IiwibW9kZSIsImFmZml4VG9wUG9zaXRpb24iLCJvbkFmZml4Q2hhbmdlIiwib25SaWdodEFmZml4TGF5b3V0Q2hhbmdlIiwiYWRvcm5tZW50UHJvcHMiLCJmb3JjZUZvY3VzIiwiaXNUZXh0SW5wdXRGb2N1c2VkIiwiZm9jdXNlZCIsInRleHRTdHlsZSIsInZpc2libGUiLCJsYWJlbGVkIiwidmlld1N0eWxlIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJMYWJlbEJhY2tncm91bmQiLCJyZWYiLCJvbkNoYW5nZVRleHQiLCJwbGFjZWhvbGRlciIsInNlbGVjdGlvbkNvbG9yIiwib25Gb2N1cyIsIm9uQmx1ciIsInVuZGVybGluZUNvbG9yQW5kcm9pZCIsInN0eWxlIiwiY29sb3IiLCJ0ZXh0QWxpZ25WZXJ0aWNhbCIsIk91dGxpbmUiLCJib3JkZXJSYWRpdXMiLCJ0aGVtZSIsImJvcmRlcldpZHRoIiwiYm9yZGVyQ29sb3IiLCJwb3NpdGlvbiIsInBhZGRpbmdIb3Jpem9udGFsIiwib3V0bGluZSIsInRvcCIsImJvdHRvbSIsImlucHV0IiwiZmxleEdyb3ciLCJtYXJnaW4iLCJ6SW5kZXgiLCJpbnB1dE91dGxpbmVkIiwiaW5wdXRPdXRsaW5lZERlbnNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBQSxLQUFBLEdBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsT0FBQSxDQUFBLENBQUE7O0FBQ0EsSUFBQSxZQUFBLEdBQUEsT0FBQSxDQUFBLGNBQUEsQ0FBQTs7QUFRQSxJQUFBLE1BQUEsR0FBQSxzQkFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLG1CQUFBLEdBQUEsdUJBQUEsQ0FBQSxPQUFBLENBQUEsZ0NBQUEsQ0FBQSxDQUFBOztBQU1BLElBQUEsV0FBQSxHQUFBLHNCQUFBLENBQUEsT0FBQSxDQUFBLG9CQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLGdCQUFBLEdBQUEsc0JBQUEsQ0FBQSxPQUFBLENBQUEseUJBQUEsQ0FBQSxDQUFBOztBQUdBLElBQUEsVUFBQSxHQUFBLE9BQUEsQ0FBQSxhQUFBLENBQUE7O0FBUUEsSUFBQSxRQUFBLEdBQUEsT0FBQSxDQUFBLFdBQUEsQ0FBQTs7QUFTQSxJQUFBLE1BQUEsR0FBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBLElBQU1BLGdDQUFnQyxHQUFHLENBQXpDLENBQUE7QUFDQSxJQUFNQyxpQkFBaUIsR0FBdkIsQ0FBQTtBQUNBLElBQU1DLFVBQVUsR0FBaEIsRUFBQTtBQUNBLElBQU1DLGdCQUFnQixHQUF0QixFQUFBO0FBQ0EsSUFBTUMsd0JBQXdCLEdBQTlCLEVBQUE7O0lBRUEsaUI7Ozs7Ozs7Ozs7Ozs2QkFTVztBQUFBOztBQUNQLFVBQUEsV0FBQSxHQTBCSSxLQTFCSixLQUFBO0FBQUEsVUFBTSxRQUFOLEdBQUEsV0FBQSxDQUFNLFFBQU47QUFBQSxVQUFNLFFBQU4sR0FBQSxXQUFBLENBQU0sUUFBTjtBQUFBLFVBQU0sS0FBTixHQUFBLFdBQUEsQ0FBTSxLQUFOO0FBQUEsVUFBTSxLQUFOLEdBQUEsV0FBQSxDQUFNLEtBQU47QUFBQSxVQUFNLGNBQU4sR0FBQSxXQUFBLENBQU0sY0FBTjtBQUFBLFVBQU0sY0FBTixHQUFBLFdBQUEsQ0FBTSxjQUFOO0FBQUEsVUFBTSxLQUFOLEdBQUEsV0FBQSxDQUFNLEtBQU47QUFBQSxVQUFNLEtBQU4sR0FBQSxXQUFBLENBQU0sS0FBTjtBQUFBLFVBQU0sS0FBTixHQUFBLFdBQUEsQ0FBTSxLQUFOO0FBQUEsVUFBTSxNQUFOLEdBQUEsV0FBQSxDQUFNLE1BQU47QUFBQSxVQUFNLFNBQU4sR0FBQSxXQUFBLENBQU0sU0FBTjtBQUFBLFVBQU0sV0FBTixHQUFBLFdBQUEsQ0FBTSxXQUFOO0FBQUEsVUFBTSxRQUFOLEdBQUEsV0FBQSxDQUFNLFFBQU47QUFBQSxVQUFNLE9BQU4sR0FBQSxXQUFBLENBQU0sT0FBTjtBQUFBLFVBQU0sVUFBTixHQUFBLFdBQUEsQ0FBTSxVQUFOO0FBQUEsVUFBTSxNQUFOLEdBQUEsV0FBQSxDQUFNLE1BQU47QUFBQSxVQUFNLFlBQU4sR0FBQSxXQUFBLENBQU0sWUFBTjtBQUFBLFVBQU0sb0JBQU4sR0FBQSxXQUFBLENBQU0sb0JBQU47QUFBQSxVQUFNLHVCQUFOLEdBQUEsV0FBQSxDQUFNLHVCQUFOO0FBQUEsVUFBTSx3QkFBTixHQUFBLFdBQUEsQ0FBTSx3QkFBTjtBQUFBLFVBQU0sSUFBTixHQUFBLFdBQUEsQ0FBTSxJQUFOO0FBQUEsVUFBTSxLQUFOLEdBQUEsV0FBQSxDQUFNLEtBQU47QUFBQSxVQXdCRVMsb0JBeEJGLEdBQUEsV0FBQSxDQXdCRUEsb0JBeEJGO0FBQUEsVUFBQSxJQUFBLEdBQUEsd0JBQUEsQ0FBQSxXQUFB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Q1hhLElBQUFBLFFBQVEsRUFERyxVQUFBO0FBRVhuRyxJQUFBQSxJQUFJLEVBRk8sQ0FBQTtBQUdYb0csSUFBQUEsaUJBQWlCLEVBQUUvRztBQUhSLEdBRGtCO0FBTS9CZ0gsRUFBQUEsT0FBTyxFQUFFO0FBQ1BGLElBQUFBLFFBQVEsRUFERCxVQUFBO0FBRVBuRyxJQUFBQSxJQUFJLEVBRkcsQ0FBQTtBQUdQQyxJQUFBQSxLQUFLLEVBSEUsQ0FBQTtBQUlQcUcsSUFBQUEsR0FBRyxFQUpJLENBQUE7QUFLUEMsSUFBQUEsTUFBTSxFQUFFO0FBTEQsR0FOc0I7QUFhL0JDLEVBQUFBLEtBQUssRUFBRTtBQUNMQyxJQUFBQSxRQUFRLEVBREgsQ0FBQTtBQUVMTCxJQUFBQSxpQkFBaUIsRUFGWix3QkFBQTtBQUdMTSxJQUFBQSxNQUFNLEVBSEQsQ0FBQTtBQUlMQyxJQUFBQSxNQUFNLEVBQUU7QUFKSCxHQWJ3QjtBQW1CL0JDLEVBQUFBLGFBQWEsRUFBRTtBQUNiM0IsSUFBQUEsVUFBVSxFQURHLENBQUE7QUFFYkMsSUFBQUEsYUFBYSxFQUFFO0FBRkYsR0FuQmdCO0FBdUIvQjJCLEVBQUFBLGtCQUFrQixFQUFFO0FBQ2xCNUIsSUFBQUEsVUFBVSxFQURRLENBQUE7QUFFbEJDLElBQUFBLGFBQWEsRUFBRTtBQUZHO0FBdkJXLENBQWxCLENBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBWaWV3LFxuICBUZXh0SW5wdXQgYXMgTmF0aXZlVGV4dElucHV0LFxuICBTdHlsZVNoZWV0LFxuICBJMThuTWFuYWdlcixcbiAgUGxhdGZvcm0sXG4gIFRleHRTdHlsZSxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBjb2xvciBmcm9tICdjb2xvcic7XG5pbXBvcnQgVGV4dElucHV0QWRvcm5tZW50LCB7XG4gIGdldEFkb3JubWVudENvbmZpZyxcbiAgZ2V0QWRvcm5tZW50U3R5bGVBZGp1c3RtZW50Rm9yTmF0aXZlSW5wdXQsXG4gIFRleHRJbnB1dEFkb3JubWVudFByb3BzLFxufSBmcm9tICcuL0Fkb3JubWVudC9UZXh0SW5wdXRBZG9ybm1lbnQnO1xuXG5pbXBvcnQgSW5wdXRMYWJlbCBmcm9tICcuL0xhYmVsL0lucHV0TGFiZWwnO1xuaW1wb3J0IExhYmVsQmFja2dyb3VuZCBmcm9tICcuL0xhYmVsL0xhYmVsQmFja2dyb3VuZCc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclByb3BzLCBDaGlsZFRleHRJbnB1dFByb3BzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCB7XG4gIE1BWElNSVpFRF9MQUJFTF9GT05UX1NJWkUsXG4gIE1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUsXG4gIExBQkVMX1dJR0dMRV9YX09GRlNFVCxcbiAgQURPUk5NRU5UX1NJWkUsXG4gIEFET1JOTUVOVF9PRkZTRVQsXG59IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0IHtcbiAgY2FsY3VsYXRlTGFiZWxUb3BQb3NpdGlvbixcbiAgY2FsY3VsYXRlSW5wdXRIZWlnaHQsXG4gIGNhbGN1bGF0ZVBhZGRpbmcsXG4gIGFkanVzdFBhZGRpbmdPdXQsXG4gIFBhZGRpbmcsXG4gIGludGVycG9sYXRlUGxhY2Vob2xkZXIsXG4gIGNhbGN1bGF0ZU91dGxpbmVkSWNvbkFuZEFmZml4VG9wUG9zaXRpb24sXG59IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBBZG9ybm1lbnRUeXBlLCBBZG9ybm1lbnRTaWRlIH0gZnJvbSAnLi9BZG9ybm1lbnQvZW51bXMnO1xuXG5jb25zdCBPVVRMSU5FX01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCA9IC02O1xuY29uc3QgTEFCRUxfUEFERElOR19UT1AgPSA4O1xuY29uc3QgTUlOX0hFSUdIVCA9IDY0O1xuY29uc3QgTUlOX0RFTlNFX0hFSUdIVCA9IDQ4O1xuY29uc3QgSU5QVVRfUEFERElOR19IT1JJWk9OVEFMID0gMTQ7XG5cbmNsYXNzIFRleHRJbnB1dE91dGxpbmVkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENoaWxkVGV4dElucHV0UHJvcHM+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgZXJyb3I6IGZhbHNlLFxuICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgcmVuZGVyOiAocHJvcHM6IFJlbmRlclByb3BzKSA9PiA8TmF0aXZlVGV4dElucHV0IHsuLi5wcm9wc30gLz4sXG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZWRpdGFibGUsXG4gICAgICBsYWJlbCxcbiAgICAgIGVycm9yLFxuICAgICAgc2VsZWN0aW9uQ29sb3IsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICB1bmRlcmxpbmVDb2xvcixcbiAgICAgIGRlbnNlLFxuICAgICAgc3R5bGUsXG4gICAgICB0aGVtZSxcbiAgICAgIHJlbmRlcixcbiAgICAgIG11bHRpbGluZSxcbiAgICAgIHBhcmVudFN0YXRlLFxuICAgICAgaW5uZXJSZWYsXG4gICAgICBvbkZvY3VzLFxuICAgICAgZm9yY2VGb2N1cyxcbiAgICAgIG9uQmx1cixcbiAgICAgIG9uQ2hhbmdlVGV4dCxcbiAgICAgIG9uTGF5b3V0QW5pbWF0ZWRUZXh0LFxuICAgICAgb25MZWZ0QWZmaXhMYXlvdXRDaGFuZ2UsXG4gICAgICBvblJpZ2h0QWZmaXhMYXlvdXRDaGFuZ2UsXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBwbGFjZWhvbGRlclRleHRDb2xvcixcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGFkb3JubWVudENvbmZpZyA9IGdldEFkb3JubWVudENvbmZpZyh7IGxlZnQsIHJpZ2h0IH0pO1xuXG4gICAgY29uc3QgeyBjb2xvcnMsIGZvbnRzIH0gPSB0aGVtZTtcbiAgICBjb25zdCBmb250ID0gZm9udHMucmVndWxhcjtcbiAgICBjb25zdCBoYXNBY3RpdmVPdXRsaW5lID0gcGFyZW50U3RhdGUuZm9jdXNlZCB8fCBlcnJvcjtcblxuICAgIGNvbnN0IHtcbiAgICAgIGZvbnRTaXplOiBmb250U2l6ZVN0eWxlLFxuICAgICAgZm9udFdlaWdodCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGJhY2tncm91bmRDb2xvciA9IGNvbG9ycy5iYWNrZ3JvdW5kLFxuICAgICAgdGV4dEFsaWduLFxuICAgICAgLi4udmlld1N0eWxlXG4gICAgfSA9IChTdHlsZVNoZWV0LmZsYXR0ZW4oc3R5bGUpIHx8IHt9KSBhcyBUZXh0U3R5bGU7XG4gICAgY29uc3QgZm9udFNpemUgPSBmb250U2l6ZVN0eWxlIHx8IE1BWElNSVpFRF9MQUJFTF9GT05UX1NJWkU7XG5cbiAgICBsZXQgaW5wdXRUZXh0Q29sb3IsIGFjdGl2ZUNvbG9yLCBvdXRsaW5lQ29sb3IsIHBsYWNlaG9sZGVyQ29sb3IsIGVycm9yQ29sb3I7XG5cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIGlucHV0VGV4dENvbG9yID0gYWN0aXZlQ29sb3IgPSBjb2xvcihjb2xvcnMudGV4dClcbiAgICAgICAgLmFscGhhKDAuNTQpXG4gICAgICAgIC5yZ2IoKVxuICAgICAgICAuc3RyaW5nKCk7XG4gICAgICBwbGFjZWhvbGRlckNvbG9yID0gb3V0bGluZUNvbG9yID0gY29sb3JzLmRpc2FibGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFRleHRDb2xvciA9IGNvbG9ycy50ZXh0O1xuICAgICAgYWN0aXZlQ29sb3IgPSBlcnJvciA/IGNvbG9ycy5lcnJvciA6IGNvbG9ycy5wcmltYXJ5O1xuICAgICAgcGxhY2Vob2xkZXJDb2xvciA9IG91dGxpbmVDb2xvciA9IGNvbG9ycy5wbGFjZWhvbGRlcjtcbiAgICAgIGVycm9yQ29sb3IgPSBjb2xvcnMuZXJyb3I7XG4gICAgfVxuXG4gICAgY29uc3QgbGFiZWxTY2FsZSA9IE1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUgLyBmb250U2l6ZTtcbiAgICBjb25zdCBmb250U2NhbGUgPSBNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFIC8gZm9udFNpemU7XG5cbiAgICBjb25zdCBsYWJlbFdpZHRoID0gcGFyZW50U3RhdGUubGFiZWxMYXlvdXQud2lkdGg7XG4gICAgY29uc3QgbGFiZWxIZWlnaHQgPSBwYXJlbnRTdGF0ZS5sYWJlbExheW91dC5oZWlnaHQ7XG4gICAgY29uc3QgbGFiZWxIYWxmV2lkdGggPSBsYWJlbFdpZHRoIC8gMjtcbiAgICBjb25zdCBsYWJlbEhhbGZIZWlnaHQgPSBsYWJlbEhlaWdodCAvIDI7XG5cbiAgICBjb25zdCBiYXNlTGFiZWxUcmFuc2xhdGVYID1cbiAgICAgIChJMThuTWFuYWdlci5pc1JUTCA/IDEgOiAtMSkgKlxuICAgICAgKGxhYmVsSGFsZldpZHRoIC1cbiAgICAgICAgKGxhYmVsU2NhbGUgKiBsYWJlbFdpZHRoKSAvIDIgLVxuICAgICAgICAoZm9udFNpemUgLSBNSU5JTUlaRURfTEFCRUxfRk9OVF9TSVpFKSAqIGxhYmVsU2NhbGUpO1xuXG4gICAgbGV0IGxhYmVsVHJhbnNsYXRpb25YT2Zmc2V0ID0gMDtcbiAgICBjb25zdCBpc0Fkb3JubWVudExlZnRJY29uID0gYWRvcm5tZW50Q29uZmlnLnNvbWUoXG4gICAgICAoeyBzaWRlLCB0eXBlIH0pID0+XG4gICAgICAgIHNpZGUgPT09IEFkb3JubWVudFNpZGUuTGVmdCAmJiB0eXBlID09PSBBZG9ybm1lbnRUeXBlLkljb25cbiAgICApO1xuICAgIGlmIChpc0Fkb3JubWVudExlZnRJY29uKSB7XG4gICAgICBsYWJlbFRyYW5zbGF0aW9uWE9mZnNldCA9XG4gICAgICAgIChJMThuTWFuYWdlci5pc1JUTCA/IC0xIDogMSkgKiAoQURPUk5NRU5UX1NJWkUgKyBBRE9STk1FTlRfT0ZGU0VUIC0gOCk7XG4gICAgfVxuXG4gICAgY29uc3QgbWluSW5wdXRIZWlnaHQgPVxuICAgICAgKGRlbnNlID8gTUlOX0RFTlNFX0hFSUdIVCA6IE1JTl9IRUlHSFQpIC0gTEFCRUxfUEFERElOR19UT1A7XG5cbiAgICBjb25zdCBpbnB1dEhlaWdodCA9IGNhbGN1bGF0ZUlucHV0SGVpZ2h0KFxuICAgICAgbGFiZWxIZWlnaHQsXG4gICAgICBoZWlnaHQsXG4gICAgICBtaW5JbnB1dEhlaWdodFxuICAgICk7XG5cbiAgICBjb25zdCB0b3BQb3NpdGlvbiA9IGNhbGN1bGF0ZUxhYmVsVG9wUG9zaXRpb24oXG4gICAgICBsYWJlbEhlaWdodCxcbiAgICAgIGlucHV0SGVpZ2h0LFxuICAgICAgTEFCRUxfUEFERElOR19UT1BcbiAgICApO1xuXG4gICAgaWYgKGhlaWdodCAmJiB0eXBlb2YgaGVpZ2h0ICE9PSAnbnVtYmVyJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBjb25zb2xlLndhcm4oJ0N1cnJlbnRseSB3ZSBzdXBwb3J0IG9ubHkgbnVtYmVycyBpbiBoZWlnaHQgcHJvcCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZGRpbmdTZXR0aW5ncyA9IHtcbiAgICAgIGhlaWdodDogaGVpZ2h0ID8gK2hlaWdodCA6IG51bGwsXG4gICAgICBsYWJlbEhhbGZIZWlnaHQsXG4gICAgICBvZmZzZXQ6IExBQkVMX1BBRERJTkdfVE9QLFxuICAgICAgbXVsdGlsaW5lOiBtdWx0aWxpbmUgPyBtdWx0aWxpbmUgOiBudWxsLFxuICAgICAgZGVuc2U6IGRlbnNlID8gZGVuc2UgOiBudWxsLFxuICAgICAgdG9wUG9zaXRpb24sXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGxhYmVsLFxuICAgICAgc2NhbGU6IGZvbnRTY2FsZSxcbiAgICAgIGlzQW5kcm9pZDogUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJyxcbiAgICAgIHN0eWxlczogU3R5bGVTaGVldC5mbGF0dGVuKFxuICAgICAgICBkZW5zZSA/IHN0eWxlcy5pbnB1dE91dGxpbmVkRGVuc2UgOiBzdHlsZXMuaW5wdXRPdXRsaW5lZFxuICAgICAgKSBhcyBQYWRkaW5nLFxuICAgIH07XG5cbiAgICBjb25zdCBwYWQgPSBjYWxjdWxhdGVQYWRkaW5nKHBhZGRpbmdTZXR0aW5ncyk7XG5cbiAgICBjb25zdCBwYWRkaW5nT3V0ID0gYWRqdXN0UGFkZGluZ091dCh7IC4uLnBhZGRpbmdTZXR0aW5ncywgcGFkIH0pO1xuXG4gICAgY29uc3QgYmFzZUxhYmVsVHJhbnNsYXRlWSA9XG4gICAgICAtbGFiZWxIYWxmSGVpZ2h0IC0gKHRvcFBvc2l0aW9uICsgT1VUTElORV9NSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQpO1xuXG4gICAgY29uc3QgcGxhY2Vob2xkZXJPcGFjaXR5ID0gaGFzQWN0aXZlT3V0bGluZVxuICAgICAgPyBpbnRlcnBvbGF0ZVBsYWNlaG9sZGVyKHBhcmVudFN0YXRlLmxhYmVsZWQsIGhhc0FjdGl2ZU91dGxpbmUpXG4gICAgICA6IHBhcmVudFN0YXRlLmxhYmVsTGF5b3V0Lm1lYXN1cmVkXG4gICAgICA/IDFcbiAgICAgIDogMDtcblxuICAgIGNvbnN0IGxhYmVsUHJvcHMgPSB7XG4gICAgICBsYWJlbCxcbiAgICAgIG9uTGF5b3V0QW5pbWF0ZWRUZXh0LFxuICAgICAgcGxhY2Vob2xkZXJPcGFjaXR5LFxuICAgICAgZXJyb3IsXG4gICAgICBwbGFjZWhvbGRlclN0eWxlOiBzdHlsZXMucGxhY2Vob2xkZXIsXG4gICAgICBiYXNlTGFiZWxUcmFuc2xhdGVZLFxuICAgICAgYmFzZUxhYmVsVHJhbnNsYXRlWCxcbiAgICAgIGZvbnQsXG4gICAgICBmb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQsXG4gICAgICBsYWJlbFNjYWxlLFxuICAgICAgd2lnZ2xlT2Zmc2V0WDogTEFCRUxfV0lHR0xFX1hfT0ZGU0VULFxuICAgICAgdG9wUG9zaXRpb24sXG4gICAgICBoYXNBY3RpdmVPdXRsaW5lLFxuICAgICAgYWN0aXZlQ29sb3IsXG4gICAgICBwbGFjZWhvbGRlckNvbG9yLFxuICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgZXJyb3JDb2xvcixcbiAgICAgIGxhYmVsVHJhbnNsYXRpb25YT2Zmc2V0LFxuICAgIH07XG5cbiAgICBjb25zdCBtaW5IZWlnaHQgPSAoaGVpZ2h0IHx8XG4gICAgICAoZGVuc2UgPyBNSU5fREVOU0VfSEVJR0hUIDogTUlOX0hFSUdIVCkpIGFzIG51bWJlcjtcblxuICAgIGNvbnN0IHsgbGVmdExheW91dCwgcmlnaHRMYXlvdXQgfSA9IHBhcmVudFN0YXRlO1xuXG4gICAgY29uc3QgbGVmdEFmZml4VG9wUG9zaXRpb24gPSBjYWxjdWxhdGVPdXRsaW5lZEljb25BbmRBZmZpeFRvcFBvc2l0aW9uKHtcbiAgICAgIGhlaWdodDogbWluSGVpZ2h0LFxuICAgICAgYWZmaXhIZWlnaHQ6IGxlZnRMYXlvdXQuaGVpZ2h0IHx8IDAsXG4gICAgICBsYWJlbFlPZmZzZXQ6IC1PVVRMSU5FX01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJpZ2h0QWZmaXhUb3BQb3NpdGlvbiA9IGNhbGN1bGF0ZU91dGxpbmVkSWNvbkFuZEFmZml4VG9wUG9zaXRpb24oe1xuICAgICAgaGVpZ2h0OiBtaW5IZWlnaHQsXG4gICAgICBhZmZpeEhlaWdodDogcmlnaHRMYXlvdXQuaGVpZ2h0IHx8IDAsXG4gICAgICBsYWJlbFlPZmZzZXQ6IC1PVVRMSU5FX01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCxcbiAgICB9KTtcbiAgICBjb25zdCBpY29uVG9wUG9zaXRpb24gPSBjYWxjdWxhdGVPdXRsaW5lZEljb25BbmRBZmZpeFRvcFBvc2l0aW9uKHtcbiAgICAgIGhlaWdodDogbWluSGVpZ2h0LFxuICAgICAgYWZmaXhIZWlnaHQ6IEFET1JOTUVOVF9TSVpFLFxuICAgICAgbGFiZWxZT2Zmc2V0OiAtT1VUTElORV9NSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQsXG4gICAgfSk7XG5cbiAgICBjb25zdCByaWdodEFmZml4V2lkdGggPSByaWdodFxuICAgICAgPyByaWdodExheW91dC53aWR0aCB8fCBBRE9STk1FTlRfU0laRVxuICAgICAgOiBBRE9STk1FTlRfU0laRTtcblxuICAgIGNvbnN0IGxlZnRBZmZpeFdpZHRoID0gbGVmdFxuICAgICAgPyBsZWZ0TGF5b3V0LndpZHRoIHx8IEFET1JOTUVOVF9TSVpFXG4gICAgICA6IEFET1JOTUVOVF9TSVpFO1xuXG4gICAgY29uc3QgYWRvcm5tZW50U3R5bGVBZGp1c3RtZW50Rm9yTmF0aXZlSW5wdXQgPSBnZXRBZG9ybm1lbnRTdHlsZUFkanVzdG1lbnRGb3JOYXRpdmVJbnB1dChcbiAgICAgIHtcbiAgICAgICAgYWRvcm5tZW50Q29uZmlnLFxuICAgICAgICByaWdodEFmZml4V2lkdGgsXG4gICAgICAgIGxlZnRBZmZpeFdpZHRoLFxuICAgICAgICBtb2RlOiAnb3V0bGluZWQnLFxuICAgICAgfVxuICAgICk7XG4gICAgY29uc3QgYWZmaXhUb3BQb3NpdGlvbiA9IHtcbiAgICAgIFtBZG9ybm1lbnRTaWRlLkxlZnRdOiBsZWZ0QWZmaXhUb3BQb3NpdGlvbixcbiAgICAgIFtBZG9ybm1lbnRTaWRlLlJpZ2h0XTogcmlnaHRBZmZpeFRvcFBvc2l0aW9uLFxuICAgIH07XG4gICAgY29uc3Qgb25BZmZpeENoYW5nZSA9IHtcbiAgICAgIFtBZG9ybm1lbnRTaWRlLkxlZnRdOiBvbkxlZnRBZmZpeExheW91dENoYW5nZSxcbiAgICAgIFtBZG9ybm1lbnRTaWRlLlJpZ2h0XTogb25SaWdodEFmZml4TGF5b3V0Q2hhbmdlLFxuICAgIH07XG5cbiAgICBsZXQgYWRvcm5tZW50UHJvcHM6IFRleHRJbnB1dEFkb3JubWVudFByb3BzID0ge1xuICAgICAgYWRvcm5tZW50Q29uZmlnLFxuICAgICAgZm9yY2VGb2N1cyxcbiAgICAgIHRvcFBvc2l0aW9uOiB7XG4gICAgICAgIFtBZG9ybm1lbnRUeXBlLkljb25dOiBpY29uVG9wUG9zaXRpb24sXG4gICAgICAgIFtBZG9ybm1lbnRUeXBlLkFmZml4XTogYWZmaXhUb3BQb3NpdGlvbixcbiAgICAgIH0sXG4gICAgICBvbkFmZml4Q2hhbmdlLFxuICAgICAgaXNUZXh0SW5wdXRGb2N1c2VkOiBwYXJlbnRTdGF0ZS5mb2N1c2VkLFxuICAgIH07XG4gICAgaWYgKGFkb3JubWVudENvbmZpZy5sZW5ndGgpIHtcbiAgICAgIGFkb3JubWVudFByb3BzID0ge1xuICAgICAgICAuLi5hZG9ybm1lbnRQcm9wcyxcbiAgICAgICAgbGVmdCxcbiAgICAgICAgcmlnaHQsXG4gICAgICAgIHRleHRTdHlsZTogeyAuLi5mb250LCBmb250U2l6ZSwgZm9udFdlaWdodCB9LFxuICAgICAgICB2aXNpYmxlOiB0aGlzLnByb3BzLnBhcmVudFN0YXRlLmxhYmVsZWQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17dmlld1N0eWxlfT5cbiAgICAgICAgey8qXG4gICAgICAgICAgUmVuZGVyIHRoZSBvdXRsaW5lIHNlcGFyYXRlbHkgZnJvbSB0aGUgY29udGFpbmVyXG4gICAgICAgICAgVGhpcyBpcyBzbyB0aGF0IHRoZSBsYWJlbCBjYW4gb3ZlcmxhcCB0aGUgb3V0bGluZVxuICAgICAgICAgIE90aGVyd2lzZSB0aGUgYm9yZGVyIHdpbGwgY3V0IG9mZiB0aGUgbGFiZWwgb24gQW5kcm9pZFxuICAgICAgICAgICovfVxuICAgICAgICA8Vmlldz5cbiAgICAgICAgICA8T3V0bGluZVxuICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgaGFzQWN0aXZlT3V0bGluZT17aGFzQWN0aXZlT3V0bGluZX1cbiAgICAgICAgICAgIGFjdGl2ZUNvbG9yPXthY3RpdmVDb2xvcn1cbiAgICAgICAgICAgIG91dGxpbmVDb2xvcj17b3V0bGluZUNvbG9yfVxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yPXtiYWNrZ3JvdW5kQ29sb3J9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgcGFkZGluZ1RvcDogTEFCRUxfUEFERElOR19UT1AsXG4gICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgICAgICAgIG1pbkhlaWdodCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPElucHV0TGFiZWxcbiAgICAgICAgICAgICAgcGFyZW50U3RhdGU9e3BhcmVudFN0YXRlfVxuICAgICAgICAgICAgICBsYWJlbFByb3BzPXtsYWJlbFByb3BzfVxuICAgICAgICAgICAgICBsYWJlbEJhY2tncm91bmQ9e0xhYmVsQmFja2dyb3VuZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7cmVuZGVyPy4oe1xuICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICByZWY6IGlubmVyUmVmLFxuICAgICAgICAgICAgICBvbkNoYW5nZVRleHQsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBsYWJlbFxuICAgICAgICAgICAgICAgID8gcGFyZW50U3RhdGUucGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgICA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyVGV4dENvbG9yOiBwbGFjZWhvbGRlclRleHRDb2xvciB8fCBwbGFjZWhvbGRlckNvbG9yLFxuICAgICAgICAgICAgICBlZGl0YWJsZTogIWRpc2FibGVkICYmIGVkaXRhYmxlLFxuICAgICAgICAgICAgICBzZWxlY3Rpb25Db2xvcjpcbiAgICAgICAgICAgICAgICB0eXBlb2Ygc2VsZWN0aW9uQ29sb3IgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICA/IGFjdGl2ZUNvbG9yXG4gICAgICAgICAgICAgICAgICA6IHNlbGVjdGlvbkNvbG9yLFxuICAgICAgICAgICAgICBvbkZvY3VzLFxuICAgICAgICAgICAgICBvbkJsdXIsXG4gICAgICAgICAgICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgbXVsdGlsaW5lLFxuICAgICAgICAgICAgICBzdHlsZTogW1xuICAgICAgICAgICAgICAgIHN0eWxlcy5pbnB1dCxcbiAgICAgICAgICAgICAgICAhbXVsdGlsaW5lIHx8IChtdWx0aWxpbmUgJiYgaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgPyB7IGhlaWdodDogaW5wdXRIZWlnaHQgfVxuICAgICAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nT3V0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLmZvbnQsXG4gICAgICAgICAgICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogaW5wdXRUZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgICB0ZXh0QWxpZ25WZXJ0aWNhbDogbXVsdGlsaW5lID8gJ3RvcCcgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduXG4gICAgICAgICAgICAgICAgICAgID8gdGV4dEFsaWduXG4gICAgICAgICAgICAgICAgICAgIDogSTE4bk1hbmFnZXIuaXNSVExcbiAgICAgICAgICAgICAgICAgICAgPyAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgIDogJ2xlZnQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRvcm5tZW50U3R5bGVBZGp1c3RtZW50Rm9yTmF0aXZlSW5wdXQsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9IGFzIFJlbmRlclByb3BzKX1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgPFRleHRJbnB1dEFkb3JubWVudCB7Li4uYWRvcm5tZW50UHJvcHN9IC8+XG4gICAgICAgIDwvVmlldz5cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRJbnB1dE91dGxpbmVkO1xuXG50eXBlIE91dGxpbmVUeXBlID0ge1xuICBhY3RpdmVDb2xvcjogc3RyaW5nO1xuICBoYXNBY3RpdmVPdXRsaW5lOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBvdXRsaW5lQ29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHRoZW1lOiBSZWFjdE5hdGl2ZVBhcGVyLlRoZW1lO1xufTtcblxuY29uc3QgT3V0bGluZSA9ICh7XG4gIHRoZW1lLFxuICBoYXNBY3RpdmVPdXRsaW5lLFxuICBhY3RpdmVDb2xvcixcbiAgb3V0bGluZUNvbG9yLFxuICBiYWNrZ3JvdW5kQ29sb3IsXG59OiBPdXRsaW5lVHlwZSkgPT4gKFxuICA8Vmlld1xuICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcbiAgICBzdHlsZT17W1xuICAgICAgc3R5bGVzLm91dGxpbmUsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtbmF0aXZlL25vLWlubGluZS1zdHlsZXNcbiAgICAgIHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLnJvdW5kbmVzcyxcbiAgICAgICAgYm9yZGVyV2lkdGg6IGhhc0FjdGl2ZU91dGxpbmUgPyAyIDogMSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGhhc0FjdGl2ZU91dGxpbmUgPyBhY3RpdmVDb2xvciA6IG91dGxpbmVDb2xvcixcbiAgICAgIH0sXG4gICAgXX1cbiAgLz5cbik7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgcGxhY2Vob2xkZXI6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBsZWZ0OiAwLFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiBJTlBVVF9QQURESU5HX0hPUklaT05UQUwsXG4gIH0sXG4gIG91dGxpbmU6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogNixcbiAgICBib3R0b206IDAsXG4gIH0sXG4gIGlucHV0OiB7XG4gICAgZmxleEdyb3c6IDEsXG4gICAgcGFkZGluZ0hvcml6b250YWw6IElOUFVUX1BBRERJTkdfSE9SSVpPTlRBTCxcbiAgICBtYXJnaW46IDAsXG4gICAgekluZGV4OiAxLFxuICB9LFxuICBpbnB1dE91dGxpbmVkOiB7XG4gICAgcGFkZGluZ1RvcDogOCxcbiAgICBwYWRkaW5nQm90dG9tOiA4LFxuICB9LFxuICBpbnB1dE91dGxpbmVkRGVuc2U6IHtcbiAgICBwYWRkaW5nVG9wOiA0LFxuICAgIHBhZGRpbmdCb3R0b206IDQsXG4gIH0sXG59KTtcbiJdfQ==