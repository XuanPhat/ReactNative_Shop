265f5bb4b3de9fc4f944fc5a0d7b6439
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _interopDefault(ex) {
  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;
}

var _extends = _interopDefault(require('@babel/runtime/helpers/extends'));

var React = require('react');

var React__default = _interopDefault(React);

var reactNative = require('react-native');

var FastImageViewNativeModule = reactNative.NativeModules.FastImageView;
var resizeMode = {
  contain: 'contain',
  cover: 'cover',
  stretch: 'stretch',
  center: 'center'
};
var priority = {
  low: 'low',
  normal: 'normal',
  high: 'high'
};
var cacheControl = {
  immutable: 'immutable',
  web: 'web',
  cacheOnly: 'cacheOnly'
};

function FastImageBase(_ref) {
  var source = _ref.source,
      tintColor = _ref.tintColor,
      onLoadStart = _ref.onLoadStart,
      onProgress = _ref.onProgress,
      onLoad = _ref.onLoad,
      onError = _ref.onError,
      onLoadEnd = _ref.onLoadEnd,
      style = _ref.style,
      fallback = _ref.fallback,
      children = _ref.children,
      _ref$resizeMode = _ref.resizeMode,
      resizeMode = _ref$resizeMode === void 0 ? 'cover' : _ref$resizeMode,
      forwardedRef = _ref.forwardedRef,
      props = (0, _objectWithoutProperties2.default)(_ref, ["source", "tintColor", "onLoadStart", "onProgress", "onLoad", "onError", "onLoadEnd", "style", "fallback", "children", "resizeMode", "forwardedRef"]);

  if (fallback) {
    var cleanedSource = _objectSpread({}, source);

    delete cleanedSource.cache;

    var _resolvedSource = reactNative.Image.resolveAssetSource(cleanedSource);

    return React__default.createElement(reactNative.View, {
      style: [styles.imageContainer, style],
      ref: forwardedRef
    }, React__default.createElement(reactNative.Image, _extends({}, props, {
      style: reactNative.StyleSheet.absoluteFill,
      source: _resolvedSource,
      onLoadStart: onLoadStart,
      onProgress: onProgress,
      onLoad: onLoad,
      onError: onError,
      onLoadEnd: onLoadEnd,
      resizeMode: resizeMode
    })), children);
  }

  var resolvedSource = reactNative.Image.resolveAssetSource(source);
  return React__default.createElement(reactNative.View, {
    style: [styles.imageContainer, style],
    ref: forwardedRef
  }, React__default.createElement(FastImageView, _extends({}, props, {
    tintColor: tintColor,
    style: reactNative.StyleSheet.absoluteFill,
    source: resolvedSource,
    onFastImageLoadStart: onLoadStart,
    onFastImageProgress: onProgress,
    onFastImageLoad: onLoad,
    onFastImageError: onError,
    onFastImageLoadEnd: onLoadEnd,
    resizeMode: resizeMode
  })), children);
}

var FastImageMemo = React.memo(FastImageBase);
var FastImageComponent = React.forwardRef(function (props, ref) {
  return React__default.createElement(FastImageMemo, _extends({
    forwardedRef: ref
  }, props));
});
FastImageComponent.displayName = 'FastImage';
var FastImage = FastImageComponent;
FastImage.resizeMode = resizeMode;
FastImage.cacheControl = cacheControl;
FastImage.priority = priority;

FastImage.preload = function (sources) {
  return FastImageViewNativeModule.preload(sources);
};

var styles = reactNative.StyleSheet.create({
  imageContainer: {
    overflow: 'hidden'
  }
});
var FastImageView = reactNative.requireNativeComponent('FastImageView', FastImage, {
  nativeOnly: {
    onFastImageLoadStart: true,
    onFastImageProgress: true,
    onFastImageLoad: true,
    onFastImageError: true,
    onFastImageLoadEnd: true
  }
});
module.exports = FastImage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmNqcy5qcyJdLCJuYW1lcyI6WyJfaW50ZXJvcERlZmF1bHQiLCJleCIsIl9leHRlbmRzIiwicmVxdWlyZSIsIlJlYWN0IiwiUmVhY3RfX2RlZmF1bHQiLCJyZWFjdE5hdGl2ZSIsIkZhc3RJbWFnZVZpZXdOYXRpdmVNb2R1bGUiLCJOYXRpdmVNb2R1bGVzIiwiRmFzdEltYWdlVmlldyIsInJlc2l6ZU1vZGUiLCJjb250YWluIiwiY292ZXIiLCJzdHJldGNoIiwiY2VudGVyIiwicHJpb3JpdHkiLCJsb3ciLCJub3JtYWwiLCJoaWdoIiwiY2FjaGVDb250cm9sIiwiaW1tdXRhYmxlIiwid2ViIiwiY2FjaGVPbmx5IiwiRmFzdEltYWdlQmFzZSIsInNvdXJjZSIsInRpbnRDb2xvciIsIm9uTG9hZFN0YXJ0Iiwib25Qcm9ncmVzcyIsIm9uTG9hZCIsIm9uRXJyb3IiLCJvbkxvYWRFbmQiLCJzdHlsZSIsImZhbGxiYWNrIiwiY2hpbGRyZW4iLCJmb3J3YXJkZWRSZWYiLCJwcm9wcyIsImNsZWFuZWRTb3VyY2UiLCJjYWNoZSIsInJlc29sdmVkU291cmNlIiwiSW1hZ2UiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJjcmVhdGVFbGVtZW50IiwiVmlldyIsInN0eWxlcyIsImltYWdlQ29udGFpbmVyIiwicmVmIiwiU3R5bGVTaGVldCIsImFic29sdXRlRmlsbCIsIm9uRmFzdEltYWdlTG9hZFN0YXJ0Iiwib25GYXN0SW1hZ2VQcm9ncmVzcyIsIm9uRmFzdEltYWdlTG9hZCIsIm9uRmFzdEltYWdlRXJyb3IiLCJvbkZhc3RJbWFnZUxvYWRFbmQiLCJGYXN0SW1hZ2VNZW1vIiwibWVtbyIsIkZhc3RJbWFnZUNvbXBvbmVudCIsImZvcndhcmRSZWYiLCJkaXNwbGF5TmFtZSIsIkZhc3RJbWFnZSIsInByZWxvYWQiLCJzb3VyY2VzIiwiY3JlYXRlIiwib3ZlcmZsb3ciLCJyZXF1aXJlTmF0aXZlQ29tcG9uZW50IiwibmF0aXZlT25seSIsIm1vZHVsZSIsImV4cG9y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LENBQUNvQyxhQUFmLENBQTZCWSxhQUE3QixFQUE0Q25ELFFBQVEsQ0FBQztBQUN6SWdDLElBQUFBLFlBQVksRUFBRVc7QUFEMkgsR0FBRCxFQUV2SVYsS0FGdUksQ0FBcEQsQ0FBN0I7QUFBQSxDQUFqQixDQUF4QztBQUdBb0Isa0JBQWtCLENBQUNFLFdBQW5CLEdBQWlDLFdBQWpDO0FBQ0EsSUFBTUMsU0FBUyxHQUFHSCxrQkFBbEI7QUFDQUcsU0FBUyxDQUFDaEQsVUFBVixHQUF1QkEsVUFBdkI7QUFDQWdELFNBQVMsQ0FBQ3ZDLFlBQVYsR0FBeUJBLFlBQXpCO0FBQ0F1QyxTQUFTLENBQUMzQyxRQUFWLEdBQXFCQSxRQUFyQjs7QUFFQTJDLFNBQVMsQ0FBQ0MsT0FBVixHQUFvQixVQUFBQyxPQUFPO0FBQUEsU0FBSXJELHlCQUF5QixDQUFDb0QsT0FBMUIsQ0FBa0NDLE9BQWxDLENBQUo7QUFBQSxDQUEzQjs7QUFFQSxJQUFNakIsTUFBTSxHQUFHckMsV0FBVyxDQUFDd0MsVUFBWixDQUF1QmUsTUFBdkIsQ0FBOEI7QUFDM0NqQixFQUFBQSxjQUFjLEVBQUU7QUFDZGtCLElBQUFBLFFBQVEsRUFBRTtBQURJO0FBRDJCLENBQTlCLENBQWY7QUFNQSxJQUFNckQsYUFBYSxHQUFHSCxXQUFXLENBQUN5RCxzQkFBWixDQUFtQyxlQUFuQyxFQUFvREwsU0FBcEQsRUFBK0Q7QUFDbkZNLEVBQUFBLFVBQVUsRUFBRTtBQUNWaEIsSUFBQUEsb0JBQW9CLEVBQUUsSUFEWjtBQUVWQyxJQUFBQSxtQkFBbUIsRUFBRSxJQUZYO0FBR1ZDLElBQUFBLGVBQWUsRUFBRSxJQUhQO0FBSVZDLElBQUFBLGdCQUFnQixFQUFFLElBSlI7QUFLVkMsSUFBQUEsa0JBQWtCLEVBQUU7QUFMVjtBQUR1RSxDQUEvRCxDQUF0QjtBQVVBYSxNQUFNLENBQUNDLE9BQVAsR0FBaUJSLFNBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGV4KSB7IHJldHVybiAoZXggJiYgKHR5cGVvZiBleCA9PT0gJ29iamVjdCcpICYmICdkZWZhdWx0JyBpbiBleCkgPyBleFsnZGVmYXVsdCddIDogZXg7IH1cblxudmFyIF9leHRlbmRzID0gX2ludGVyb3BEZWZhdWx0KHJlcXVpcmUoJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgUmVhY3RfX2RlZmF1bHQgPSBfaW50ZXJvcERlZmF1bHQoUmVhY3QpO1xudmFyIHJlYWN0TmF0aXZlID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJyk7XG5cbmNvbnN0IEZhc3RJbWFnZVZpZXdOYXRpdmVNb2R1bGUgPSByZWFjdE5hdGl2ZS5OYXRpdmVNb2R1bGVzLkZhc3RJbWFnZVZpZXc7XG5jb25zdCByZXNpemVNb2RlID0ge1xuICBjb250YWluOiAnY29udGFpbicsXG4gIGNvdmVyOiAnY292ZXInLFxuICBzdHJldGNoOiAnc3RyZXRjaCcsXG4gIGNlbnRlcjogJ2NlbnRlcidcbn07XG5jb25zdCBwcmlvcml0eSA9IHtcbiAgbG93OiAnbG93JyxcbiAgbm9ybWFsOiAnbm9ybWFsJyxcbiAgaGlnaDogJ2hpZ2gnXG59O1xuY29uc3QgY2FjaGVDb250cm9sID0ge1xuICAvLyBJZ25vcmUgaGVhZGVycywgdXNlIHVyaSBhcyBjYWNoZSBrZXksIGZldGNoIG9ubHkgaWYgbm90IGluIGNhY2hlLlxuICBpbW11dGFibGU6ICdpbW11dGFibGUnLFxuICAvLyBSZXNwZWN0IGh0dHAgaGVhZGVycywgbm8gYWdncmVzc2l2ZSBjYWNoaW5nLlxuICB3ZWI6ICd3ZWInLFxuICAvLyBPbmx5IGxvYWQgZnJvbSBjYWNoZS5cbiAgY2FjaGVPbmx5OiAnY2FjaGVPbmx5J1xufTtcblxuZnVuY3Rpb24gRmFzdEltYWdlQmFzZSh7XG4gIHNvdXJjZSxcbiAgdGludENvbG9yLFxuICBvbkxvYWRTdGFydCxcbiAgb25Qcm9ncmVzcyxcbiAgb25Mb2FkLFxuICBvbkVycm9yLFxuICBvbkxvYWRFbmQsXG4gIHN0eWxlLFxuICBmYWxsYmFjayxcbiAgY2hpbGRyZW4sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgcmVzaXplTW9kZSA9ICdjb3ZlcicsXG4gIGZvcndhcmRlZFJlZixcbiAgLi4ucHJvcHNcbn0pIHtcbiAgaWYgKGZhbGxiYWNrKSB7XG4gICAgY29uc3QgY2xlYW5lZFNvdXJjZSA9IHsgLi4uc291cmNlXG4gICAgfTtcbiAgICBkZWxldGUgY2xlYW5lZFNvdXJjZS5jYWNoZTtcbiAgICBjb25zdCByZXNvbHZlZFNvdXJjZSA9IHJlYWN0TmF0aXZlLkltYWdlLnJlc29sdmVBc3NldFNvdXJjZShjbGVhbmVkU291cmNlKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQocmVhY3ROYXRpdmUuVmlldywge1xuICAgICAgc3R5bGU6IFtzdHlsZXMuaW1hZ2VDb250YWluZXIsIHN0eWxlXSxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQocmVhY3ROYXRpdmUuSW1hZ2UsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgc3R5bGU6IHJlYWN0TmF0aXZlLlN0eWxlU2hlZXQuYWJzb2x1dGVGaWxsLFxuICAgICAgc291cmNlOiByZXNvbHZlZFNvdXJjZSxcbiAgICAgIG9uTG9hZFN0YXJ0OiBvbkxvYWRTdGFydCxcbiAgICAgIG9uUHJvZ3Jlc3M6IG9uUHJvZ3Jlc3MsXG4gICAgICBvbkxvYWQ6IG9uTG9hZCxcbiAgICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgICBvbkxvYWRFbmQ6IG9uTG9hZEVuZCxcbiAgICAgIHJlc2l6ZU1vZGU6IHJlc2l6ZU1vZGVcbiAgICB9KSksIGNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHJlc29sdmVkU291cmNlID0gcmVhY3ROYXRpdmUuSW1hZ2UucmVzb2x2ZUFzc2V0U291cmNlKHNvdXJjZSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChyZWFjdE5hdGl2ZS5WaWV3LCB7XG4gICAgc3R5bGU6IFtzdHlsZXMuaW1hZ2VDb250YWluZXIsIHN0eWxlXSxcbiAgICByZWY6IGZvcndhcmRlZFJlZlxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGYXN0SW1hZ2VWaWV3LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICB0aW50Q29sb3I6IHRpbnRDb2xvcixcbiAgICBzdHlsZTogcmVhY3ROYXRpdmUuU3R5bGVTaGVldC5hYnNvbHV0ZUZpbGwsXG4gICAgc291cmNlOiByZXNvbHZlZFNvdXJjZSxcbiAgICBvbkZhc3RJbWFnZUxvYWRTdGFydDogb25Mb2FkU3RhcnQsXG4gICAgb25GYXN0SW1hZ2VQcm9ncmVzczogb25Qcm9ncmVzcyxcbiAgICBvbkZhc3RJbWFnZUxvYWQ6IG9uTG9hZCxcbiAgICBvbkZhc3RJbWFnZUVycm9yOiBvbkVycm9yLFxuICAgIG9uRmFzdEltYWdlTG9hZEVuZDogb25Mb2FkRW5kLFxuICAgIHJlc2l6ZU1vZGU6IHJlc2l6ZU1vZGVcbiAgfSkpLCBjaGlsZHJlbik7XG59XG5cbmNvbnN0IEZhc3RJbWFnZU1lbW8gPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhGYXN0SW1hZ2VCYXNlKTtcbmNvbnN0IEZhc3RJbWFnZUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChGYXN0SW1hZ2VNZW1vLCBfZXh0ZW5kcyh7XG4gIGZvcndhcmRlZFJlZjogcmVmXG59LCBwcm9wcykpKTtcbkZhc3RJbWFnZUNvbXBvbmVudC5kaXNwbGF5TmFtZSA9ICdGYXN0SW1hZ2UnO1xuY29uc3QgRmFzdEltYWdlID0gRmFzdEltYWdlQ29tcG9uZW50O1xuRmFzdEltYWdlLnJlc2l6ZU1vZGUgPSByZXNpemVNb2RlO1xuRmFzdEltYWdlLmNhY2hlQ29udHJvbCA9IGNhY2hlQ29udHJvbDtcbkZhc3RJbWFnZS5wcmlvcml0eSA9IHByaW9yaXR5O1xuXG5GYXN0SW1hZ2UucHJlbG9hZCA9IHNvdXJjZXMgPT4gRmFzdEltYWdlVmlld05hdGl2ZU1vZHVsZS5wcmVsb2FkKHNvdXJjZXMpO1xuXG5jb25zdCBzdHlsZXMgPSByZWFjdE5hdGl2ZS5TdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGltYWdlQ29udGFpbmVyOiB7XG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gIH1cbn0pOyAvLyBUeXBlcyBvZiByZXF1aXJlTmF0aXZlQ29tcG9uZW50IGFyZSBub3QgY29ycmVjdC5cblxuY29uc3QgRmFzdEltYWdlVmlldyA9IHJlYWN0TmF0aXZlLnJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ0Zhc3RJbWFnZVZpZXcnLCBGYXN0SW1hZ2UsIHtcbiAgbmF0aXZlT25seToge1xuICAgIG9uRmFzdEltYWdlTG9hZFN0YXJ0OiB0cnVlLFxuICAgIG9uRmFzdEltYWdlUHJvZ3Jlc3M6IHRydWUsXG4gICAgb25GYXN0SW1hZ2VMb2FkOiB0cnVlLFxuICAgIG9uRmFzdEltYWdlRXJyb3I6IHRydWUsXG4gICAgb25GYXN0SW1hZ2VMb2FkRW5kOiB0cnVlXG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZhc3RJbWFnZTtcbiJdfQ==