{"version":3,"sources":["index.cjs.js"],"names":["_interopDefault","ex","_extends","require","React","React__default","reactNative","FastImageViewNativeModule","NativeModules","FastImageView","resizeMode","contain","cover","stretch","center","priority","low","normal","high","cacheControl","immutable","web","cacheOnly","FastImageBase","source","tintColor","onLoadStart","onProgress","onLoad","onError","onLoadEnd","style","fallback","children","forwardedRef","props","cleanedSource","cache","resolvedSource","Image","resolveAssetSource","createElement","View","styles","imageContainer","ref","StyleSheet","absoluteFill","onFastImageLoadStart","onFastImageProgress","onFastImageLoad","onFastImageError","onFastImageLoadEnd","FastImageMemo","memo","FastImageComponent","forwardRef","displayName","FastImage","preload","sources","create","overflow","requireNativeComponent","nativeOnly","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar reactNative = require('react-native');\n\nconst FastImageViewNativeModule = reactNative.NativeModules.FastImageView;\nconst resizeMode = {\n  contain: 'contain',\n  cover: 'cover',\n  stretch: 'stretch',\n  center: 'center'\n};\nconst priority = {\n  low: 'low',\n  normal: 'normal',\n  high: 'high'\n};\nconst cacheControl = {\n  // Ignore headers, use uri as cache key, fetch only if not in cache.\n  immutable: 'immutable',\n  // Respect http headers, no aggressive caching.\n  web: 'web',\n  // Only load from cache.\n  cacheOnly: 'cacheOnly'\n};\n\nfunction FastImageBase({\n  source,\n  tintColor,\n  onLoadStart,\n  onProgress,\n  onLoad,\n  onError,\n  onLoadEnd,\n  style,\n  fallback,\n  children,\n  // eslint-disable-next-line no-shadow\n  resizeMode = 'cover',\n  forwardedRef,\n  ...props\n}) {\n  if (fallback) {\n    const cleanedSource = { ...source\n    };\n    delete cleanedSource.cache;\n    const resolvedSource = reactNative.Image.resolveAssetSource(cleanedSource);\n    return /*#__PURE__*/React__default.createElement(reactNative.View, {\n      style: [styles.imageContainer, style],\n      ref: forwardedRef\n    }, /*#__PURE__*/React__default.createElement(reactNative.Image, _extends({}, props, {\n      style: reactNative.StyleSheet.absoluteFill,\n      source: resolvedSource,\n      onLoadStart: onLoadStart,\n      onProgress: onProgress,\n      onLoad: onLoad,\n      onError: onError,\n      onLoadEnd: onLoadEnd,\n      resizeMode: resizeMode\n    })), children);\n  }\n\n  const resolvedSource = reactNative.Image.resolveAssetSource(source);\n  return /*#__PURE__*/React__default.createElement(reactNative.View, {\n    style: [styles.imageContainer, style],\n    ref: forwardedRef\n  }, /*#__PURE__*/React__default.createElement(FastImageView, _extends({}, props, {\n    tintColor: tintColor,\n    style: reactNative.StyleSheet.absoluteFill,\n    source: resolvedSource,\n    onFastImageLoadStart: onLoadStart,\n    onFastImageProgress: onProgress,\n    onFastImageLoad: onLoad,\n    onFastImageError: onError,\n    onFastImageLoadEnd: onLoadEnd,\n    resizeMode: resizeMode\n  })), children);\n}\n\nconst FastImageMemo = /*#__PURE__*/React.memo(FastImageBase);\nconst FastImageComponent = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/React__default.createElement(FastImageMemo, _extends({\n  forwardedRef: ref\n}, props)));\nFastImageComponent.displayName = 'FastImage';\nconst FastImage = FastImageComponent;\nFastImage.resizeMode = resizeMode;\nFastImage.cacheControl = cacheControl;\nFastImage.priority = priority;\n\nFastImage.preload = sources => FastImageViewNativeModule.preload(sources);\n\nconst styles = reactNative.StyleSheet.create({\n  imageContainer: {\n    overflow: 'hidden'\n  }\n}); // Types of requireNativeComponent are not correct.\n\nconst FastImageView = reactNative.requireNativeComponent('FastImageView', FastImage, {\n  nativeOnly: {\n    onFastImageLoadStart: true,\n    onFastImageProgress: true,\n    onFastImageLoad: true,\n    onFastImageError: true,\n    onFastImageLoadEnd: true\n  }\n});\n\nmodule.exports = FastImage;\n"]}