7d6067e289691c5be47052ab2e39c46f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.PricingButton = exports.PricingCard = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _helpers = require("../helpers");

var _config = require("../config");

var _Text = _interopRequireDefault(require("../text/Text"));

var _Button = _interopRequireDefault(require("../buttons/Button"));

var _Icon = _interopRequireDefault(require("../icons/Icon"));

var __rest = this && this.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var PricingCard = function PricingCard(props) {
  var theme = props.theme,
      rest = __rest(props, ["theme"]);

  var containerStyle = rest.containerStyle,
      wrapperStyle = rest.wrapperStyle,
      title = rest.title,
      price = rest.price,
      info = rest.info,
      button = rest.button,
      _rest$color = rest.color,
      color = _rest$color === void 0 ? theme.colors.primary : _rest$color,
      titleStyle = rest.titleStyle,
      pricingStyle = rest.pricingStyle,
      infoStyle = rest.infoStyle,
      onButtonPress = rest.onButtonPress,
      attributes = __rest(rest, ["containerStyle", "wrapperStyle", "title", "price", "info", "button", "color", "titleStyle", "pricingStyle", "infoStyle", "onButtonPress"]);

  return _react.default.createElement(_reactNative.View, (0, _extends2.default)({}, attributes, {
    style: _reactNative.StyleSheet.flatten([Object.assign({
      margin: 15,
      marginBottom: 15,
      backgroundColor: theme.colors.white,
      borderWidth: 1,
      padding: 15,
      borderColor: theme.colors.grey5
    }, _reactNative.Platform.select({
      android: {
        elevation: 1
      },
      default: {
        shadowColor: 'rgba(0,0,0, .2)',
        shadowOffset: {
          height: 1,
          width: 0
        },
        shadowOpacity: 0.5,
        shadowRadius: 0.5
      }
    })), containerStyle && containerStyle])
  }), _react.default.createElement(_reactNative.View, {
    style: _reactNative.StyleSheet.flatten([styles.wrapper, wrapperStyle && wrapperStyle])
  }, _react.default.createElement(_Text.default, {
    testID: "pricingCardTitle",
    style: _reactNative.StyleSheet.flatten([styles.pricingTitle, titleStyle, {
      color: color
    }])
  }, title), _react.default.createElement(_Text.default, {
    style: _reactNative.StyleSheet.flatten([styles.pricingPrice, pricingStyle])
  }, price), info.map(function (item) {
    return _react.default.createElement(_Text.default, {
      key: item,
      style: _reactNative.StyleSheet.flatten([Object.assign({
        textAlign: 'center',
        marginTop: 5,
        marginBottom: 5,
        color: theme.colors.grey3
      }, _reactNative.Platform.select({
        android: Object.assign({}, _config.fonts.android.bold),
        default: {
          fontWeight: '600'
        }
      })), infoStyle])
    }, item);
  }), _react.default.isValidElement(button) ? button : _react.default.createElement(PricingButton, (0, _extends2.default)({
    color: color,
    onButtonPress: onButtonPress
  }, button))));
};

exports.PricingCard = PricingCard;

var PricingButton = function PricingButton(props) {
  var title = props.title,
      buttonStyle = props.buttonStyle,
      color = props.color,
      titleStyle = props.titleStyle,
      onButtonPress = props.onButtonPress,
      icon = props.icon,
      buttonProps = __rest(props, ["title", "buttonStyle", "color", "titleStyle", "onButtonPress", "icon"]);

  return _react.default.createElement(_Button.default, (0, _extends2.default)({
    title: title,
    buttonStyle: _reactNative.StyleSheet.flatten([styles.button, buttonStyle, {
      backgroundColor: color
    }]),
    titleStyle: titleStyle,
    onPress: onButtonPress,
    icon: _react.default.isValidElement(icon) ? icon : typeof icon === 'string' ? _react.default.createElement(_Icon.default, {
      name: icon,
      size: 15,
      color: "white"
    }) : _react.default.createElement(_Icon.default, icon)
  }, buttonProps));
};

exports.PricingButton = PricingButton;
PricingCard.defaultProps = {
  info: []
};

var styles = _reactNative.StyleSheet.create({
  wrapper: {
    backgroundColor: 'transparent'
  },
  pricingTitle: Object.assign({
    textAlign: 'center',
    fontSize: (0, _helpers.normalizeText)(30)
  }, _reactNative.Platform.select({
    android: Object.assign({}, _config.fonts.android.black),
    default: {
      fontWeight: '800'
    }
  })),
  pricingPrice: Object.assign({
    textAlign: 'center',
    marginTop: 10,
    marginBottom: 10,
    fontSize: (0, _helpers.normalizeText)(40)
  }, _reactNative.Platform.select({
    android: Object.assign({}, _config.fonts.android.bold),
    default: {
      fontWeight: '700'
    }
  })),
  button: {
    marginTop: 15,
    marginBottom: 10
  }
});

var _default = (0, _config.withTheme)(PricingCard, 'PricingCard');

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByaWNpbmdDYXJkLmpzIl0sIm5hbWVzIjpbIl9fcmVzdCIsInMiLCJlIiwidCIsInAiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaSIsImxlbmd0aCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiUHJpY2luZ0NhcmQiLCJwcm9wcyIsInRoZW1lIiwicmVzdCIsImNvbnRhaW5lclN0eWxlIiwid3JhcHBlclN0eWxlIiwidGl0bGUiLCJwcmljZSIsImluZm8iLCJidXR0b24iLCJjb2xvciIsImNvbG9ycyIsInByaW1hcnkiLCJ0aXRsZVN0eWxlIiwicHJpY2luZ1N0eWxlIiwiaW5mb1N0eWxlIiwib25CdXR0b25QcmVzcyIsImF0dHJpYnV0ZXMiLCJTdHlsZVNoZWV0IiwiZmxhdHRlbiIsImFzc2lnbiIsIm1hcmdpbiIsIm1hcmdpbkJvdHRvbSIsImJhY2tncm91bmRDb2xvciIsIndoaXRlIiwiYm9yZGVyV2lkdGgiLCJwYWRkaW5nIiwiYm9yZGVyQ29sb3IiLCJncmV5NSIsIlBsYXRmb3JtIiwic2VsZWN0IiwiYW5kcm9pZCIsImVsZXZhdGlvbiIsImRlZmF1bHQiLCJzaGFkb3dDb2xvciIsInNoYWRvd09mZnNldCIsImhlaWdodCIsIndpZHRoIiwic2hhZG93T3BhY2l0eSIsInNoYWRvd1JhZGl1cyIsInN0eWxlcyIsIndyYXBwZXIiLCJwcmljaW5nVGl0bGUiLCJwcmljaW5nUHJpY2UiLCJtYXAiLCJpdGVtIiwidGV4dEFsaWduIiwibWFyZ2luVG9wIiwiZ3JleTMiLCJmb250cyIsImJvbGQiLCJmb250V2VpZ2h0IiwiUmVhY3QiLCJpc1ZhbGlkRWxlbWVudCIsIlByaWNpbmdCdXR0b24iLCJidXR0b25TdHlsZSIsImljb24iLCJidXR0b25Qcm9wcyIsImRlZmF1bHRQcm9wcyIsImNyZWF0ZSIsImZvbnRTaXplIiwiYmxhY2siXSwibWFwcGluZ3MiOiI7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Q0FBbEIsQ0FBZjs7ZUFzQmUsdUJBQVV0QixXQUFWLEVBQXVCLGFBQXZCLEMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVmlldywgUGxhdGZvcm0sIFN0eWxlU2hlZXQsIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IG5vcm1hbGl6ZVRleHQgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IGZvbnRzLCB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IFRleHQgZnJvbSAnLi4vdGV4dC9UZXh0JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9ucy9CdXR0b24nO1xuaW1wb3J0IEljb24gZnJvbSAnLi4vaWNvbnMvSWNvbic7XG5jb25zdCBQcmljaW5nQ2FyZCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHByb3BzLCByZXN0ID0gX19yZXN0KHByb3BzLCBbXCJ0aGVtZVwiXSk7XG4gICAgY29uc3QgeyBjb250YWluZXJTdHlsZSwgd3JhcHBlclN0eWxlLCB0aXRsZSwgcHJpY2UsIGluZm8sIGJ1dHRvbiwgY29sb3IgPSB0aGVtZS5jb2xvcnMucHJpbWFyeSwgdGl0bGVTdHlsZSwgcHJpY2luZ1N0eWxlLCBpbmZvU3R5bGUsIG9uQnV0dG9uUHJlc3MgfSA9IHJlc3QsIGF0dHJpYnV0ZXMgPSBfX3Jlc3QocmVzdCwgW1wiY29udGFpbmVyU3R5bGVcIiwgXCJ3cmFwcGVyU3R5bGVcIiwgXCJ0aXRsZVwiLCBcInByaWNlXCIsIFwiaW5mb1wiLCBcImJ1dHRvblwiLCBcImNvbG9yXCIsIFwidGl0bGVTdHlsZVwiLCBcInByaWNpbmdTdHlsZVwiLCBcImluZm9TdHlsZVwiLCBcIm9uQnV0dG9uUHJlc3NcIl0pO1xuICAgIHJldHVybiAoPFZpZXcgey4uLmF0dHJpYnV0ZXN9IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICBPYmplY3QuYXNzaWduKHsgbWFyZ2luOiAxNSwgbWFyZ2luQm90dG9tOiAxNSwgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5jb2xvcnMud2hpdGUsIGJvcmRlcldpZHRoOiAxLCBwYWRkaW5nOiAxNSwgYm9yZGVyQ29sb3I6IHRoZW1lLmNvbG9ycy5ncmV5NSB9LCBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgICAgIGVsZXZhdGlvbjogMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsMCwwLCAuMiknLFxuICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldDogeyBoZWlnaHQ6IDEsIHdpZHRoOiAwIH0sXG4gICAgICAgICAgICAgICAgc2hhZG93T3BhY2l0eTogMC41LFxuICAgICAgICAgICAgICAgIHNoYWRvd1JhZGl1czogMC41LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpLFxuICAgICAgICBjb250YWluZXJTdHlsZSAmJiBjb250YWluZXJTdHlsZSxcbiAgICBdKX0+XG4gICAgICA8VmlldyBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgc3R5bGVzLndyYXBwZXIsXG4gICAgICAgIHdyYXBwZXJTdHlsZSAmJiB3cmFwcGVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJwcmljaW5nQ2FyZFRpdGxlXCIgc3R5bGU9e1N0eWxlU2hlZXQuZmxhdHRlbihbXG4gICAgICAgIHN0eWxlcy5wcmljaW5nVGl0bGUsXG4gICAgICAgIHRpdGxlU3R5bGUsXG4gICAgICAgIHsgY29sb3IgfSxcbiAgICBdKX0+XG4gICAgICAgICAge3RpdGxlfVxuICAgICAgICA8L1RleHQ+XG5cbiAgICAgICAgPFRleHQgc3R5bGU9e1N0eWxlU2hlZXQuZmxhdHRlbihbc3R5bGVzLnByaWNpbmdQcmljZSwgcHJpY2luZ1N0eWxlXSl9PlxuICAgICAgICAgIHtwcmljZX1cbiAgICAgICAgPC9UZXh0PlxuXG4gICAgICAgIHtpbmZvLm1hcCgoaXRlbSkgPT4gKDxUZXh0IGtleT17aXRlbX0gXG4gICAgLy9AdHMtaWdub3JlXG4gICAgc3R5bGU9e1N0eWxlU2hlZXQuZmxhdHRlbihbXG4gICAgICAgIE9iamVjdC5hc3NpZ24oeyB0ZXh0QWxpZ246ICdjZW50ZXInLCBtYXJnaW5Ub3A6IDUsIG1hcmdpbkJvdHRvbTogNSwgY29sb3I6IHRoZW1lLmNvbG9ycy5ncmV5MyB9LCBQbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAgICAgYW5kcm9pZDogT2JqZWN0LmFzc2lnbih7fSwgZm9udHMuYW5kcm9pZC5ib2xkKSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKSxcbiAgICAgICAgaW5mb1N0eWxlLFxuICAgIF0pfT5cbiAgICAgICAgICAgIHtpdGVtfVxuICAgICAgICAgIDwvVGV4dD4pKX1cblxuICAgICAgICB7UmVhY3QuaXNWYWxpZEVsZW1lbnQoYnV0dG9uKSA/IChidXR0b24pIDogKDxQcmljaW5nQnV0dG9uIGNvbG9yPXtjb2xvcn0gb25CdXR0b25QcmVzcz17b25CdXR0b25QcmVzc30gey4uLmJ1dHRvbn0vPil9XG4gICAgICA8L1ZpZXc+XG4gICAgPC9WaWV3Pik7XG59O1xuY29uc3QgUHJpY2luZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdGl0bGUsIGJ1dHRvblN0eWxlLCBjb2xvciwgdGl0bGVTdHlsZSwgb25CdXR0b25QcmVzcywgaWNvbiB9ID0gcHJvcHMsIGJ1dHRvblByb3BzID0gX19yZXN0KHByb3BzLCBbXCJ0aXRsZVwiLCBcImJ1dHRvblN0eWxlXCIsIFwiY29sb3JcIiwgXCJ0aXRsZVN0eWxlXCIsIFwib25CdXR0b25QcmVzc1wiLCBcImljb25cIl0pO1xuICAgIHJldHVybiAoPEJ1dHRvbiB0aXRsZT17dGl0bGV9IGJ1dHRvblN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICBzdHlsZXMuYnV0dG9uLFxuICAgICAgICBidXR0b25TdHlsZSxcbiAgICAgICAgeyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH0sXG4gICAgXSl9IHRpdGxlU3R5bGU9e3RpdGxlU3R5bGV9IG9uUHJlc3M9e29uQnV0dG9uUHJlc3N9IGljb249e1JlYWN0LmlzVmFsaWRFbGVtZW50KGljb24pID8gKGljb24pIDogdHlwZW9mIGljb24gPT09ICdzdHJpbmcnID8gKDxJY29uIG5hbWU9e2ljb259IHNpemU9ezE1fSBjb2xvcj1cIndoaXRlXCIvPikgOiAoPEljb24gey4uLmljb259Lz4pfSB7Li4uYnV0dG9uUHJvcHN9Lz4pO1xufTtcblByaWNpbmdDYXJkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbmZvOiBbXSxcbn07XG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAgd3JhcHBlcjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgfSxcbiAgICBwcmljaW5nVGl0bGU6IE9iamVjdC5hc3NpZ24oeyB0ZXh0QWxpZ246ICdjZW50ZXInLCBmb250U2l6ZTogbm9ybWFsaXplVGV4dCgzMCkgfSwgUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgYW5kcm9pZDogT2JqZWN0LmFzc2lnbih7fSwgZm9udHMuYW5kcm9pZC5ibGFjayksXG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc4MDAnLFxuICAgICAgICB9LFxuICAgIH0pKSxcbiAgICBwcmljaW5nUHJpY2U6IE9iamVjdC5hc3NpZ24oeyB0ZXh0QWxpZ246ICdjZW50ZXInLCBtYXJnaW5Ub3A6IDEwLCBtYXJnaW5Cb3R0b206IDEwLCBmb250U2l6ZTogbm9ybWFsaXplVGV4dCg0MCkgfSwgUGxhdGZvcm0uc2VsZWN0KHtcbiAgICAgICAgYW5kcm9pZDogT2JqZWN0LmFzc2lnbih7fSwgZm9udHMuYW5kcm9pZC5ib2xkKSxcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgZm9udFdlaWdodDogJzcwMCcsXG4gICAgICAgIH0sXG4gICAgfSkpLFxuICAgIGJ1dHRvbjoge1xuICAgICAgICBtYXJnaW5Ub3A6IDE1LFxuICAgICAgICBtYXJnaW5Cb3R0b206IDEwLFxuICAgIH0sXG59KTtcbmV4cG9ydCB7IFByaWNpbmdDYXJkLCBQcmljaW5nQnV0dG9uIH07XG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoUHJpY2luZ0NhcmQsICdQcmljaW5nQ2FyZCcpO1xuIl19