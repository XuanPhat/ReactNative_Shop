4c457a6a341db97787ed78272f315dbe
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Tile = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _config = require("../config");

var _Image = _interopRequireDefault(require("../image/Image"));

var _Text = _interopRequireDefault(require("../text/Text"));

var _Icon = _interopRequireDefault(require("../icons/Icon"));

var _FeaturedTile = _interopRequireDefault(require("./FeaturedTile"));

var __rest = this && this.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var Tile = function Tile(props) {
  var featured = props.featured,
      imageSrc = props.imageSrc,
      icon = props.icon,
      title = props.title,
      children = props.children,
      caption = props.caption,
      titleStyle = props.titleStyle,
      onPress = props.onPress,
      activeOpacity = props.activeOpacity,
      overlayContainerStyle = props.overlayContainerStyle,
      captionStyle = props.captionStyle,
      iconContainerStyle = props.iconContainerStyle,
      imageContainerStyle = props.imageContainerStyle,
      containerStyle = props.containerStyle,
      contentContainerStyle = props.contentContainerStyle,
      titleNumberOfLines = props.titleNumberOfLines,
      _props$ImageComponent = props.ImageComponent,
      ImageComponent = _props$ImageComponent === void 0 ? _Image.default : _props$ImageComponent,
      _props$imageProps = props.imageProps,
      imageProps = _props$imageProps === void 0 ? {} : _props$imageProps,
      attributes = __rest(props, ["featured", "imageSrc", "icon", "title", "children", "caption", "titleStyle", "onPress", "activeOpacity", "overlayContainerStyle", "captionStyle", "iconContainerStyle", "imageContainerStyle", "containerStyle", "contentContainerStyle", "titleNumberOfLines", "ImageComponent", "imageProps"]);

  var _props$width = props.width,
      width = _props$width === void 0 ? _reactNative.Dimensions.get('window').width : _props$width,
      _props$height = props.height,
      height = _props$height === void 0 ? width * 0.8 : _props$height;

  if (featured) {
    var featuredProps = {
      title: title,
      icon: icon,
      caption: caption,
      imageSrc: imageSrc,
      onPress: onPress,
      activeOpacity: activeOpacity,
      containerStyle: containerStyle,
      imageContainerStyle: imageContainerStyle,
      overlayContainerStyle: overlayContainerStyle,
      titleStyle: titleStyle,
      captionStyle: captionStyle,
      width: width,
      height: height,
      imageProps: imageProps,
      ImageComponent: ImageComponent
    };
    return _react.default.createElement(_FeaturedTile.default, featuredProps);
  }

  return _react.default.createElement(_reactNative.TouchableOpacity, (0, _extends2.default)({}, attributes, {
    onPress: onPress,
    activeOpacity: activeOpacity,
    style: _reactNative.StyleSheet.flatten([{
      width: width,
      height: height
    }, containerStyle && containerStyle])
  }), _react.default.createElement(ImageComponent, (0, _extends2.default)({
    resizeMode: "cover",
    source: imageSrc,
    containerStyle: _reactNative.StyleSheet.flatten([styles.imageContainer, imageContainerStyle && imageContainerStyle]),
    style: Object.assign(Object.assign({}, _reactNative.StyleSheet.absoluteFillObject), {
      alignItems: 'center',
      justifyContent: 'center'
    })
  }, imageProps), _react.default.createElement(_reactNative.View, {
    style: _reactNative.StyleSheet.flatten([styles.iconContainer, iconContainerStyle && iconContainerStyle])
  }, icon && _react.default.createElement(_Icon.default, icon))), _react.default.createElement(_reactNative.View, {
    style: _reactNative.StyleSheet.flatten([styles.contentContainer, contentContainerStyle && contentContainerStyle])
  }, _react.default.createElement(_Text.default, {
    testID: "tileTitle",
    h4: !titleStyle || !('fontSize' in titleStyle),
    style: _reactNative.StyleSheet.flatten([styles.text, titleStyle && titleStyle]),
    numberOfLines: titleNumberOfLines
  }, title), children));
};

exports.Tile = Tile;

var styles = _reactNative.StyleSheet.create({
  imageContainer: {
    flex: 2
  },
  text: {
    backgroundColor: 'rgba(0,0,0,0)',
    marginBottom: 5
  },
  contentContainer: {
    paddingTop: 15,
    paddingBottom: 5,
    paddingLeft: 15,
    paddingRight: 15
  },
  iconContainer: {
    justifyContent: 'center',
    alignItems: 'center',
    alignSelf: 'center'
  }
});

var _default = (0, _config.withTheme)(Tile, 'Tile');

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRpbGUuanMiXSwibmFtZXMiOlsiX19yZXN0IiwicyIsImUiLCJ0IiwicCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJpIiwibGVuZ3RoIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJUaWxlIiwicHJvcHMiLCJmZWF0dXJlZCIsImltYWdlU3JjIiwiaWNvbiIsInRpdGxlIiwiY2hpbGRyZW4iLCJjYXB0aW9uIiwidGl0bGVTdHlsZSIsIm9uUHJlc3MiLCJhY3RpdmVPcGFjaXR5Iiwib3ZlcmxheUNvbnRhaW5lclN0eWxlIiwiY2FwdGlvblN0eWxlIiwiaWNvbkNvbnRhaW5lclN0eWxlIiwiaW1hZ2VDb250YWluZXJTdHlsZSIsImNvbnRhaW5lclN0eWxlIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwidGl0bGVOdW1iZXJPZkxpbmVzIiwiSW1hZ2VDb21wb25lbnQiLCJJbWFnZSIsImltYWdlUHJvcHMiLCJhdHRyaWJ1dGVzIiwid2lkdGgiLCJEaW1lbnNpb25zIiwiZ2V0IiwiaGVpZ2h0IiwiZmVhdHVyZWRQcm9wcyIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwic3R5bGVzIiwiaW1hZ2VDb250YWluZXIiLCJhc3NpZ24iLCJhYnNvbHV0ZUZpbGxPYmplY3QiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJpY29uQ29udGFpbmVyIiwiY29udGVudENvbnRhaW5lciIsInRleHQiLCJjcmVhdGUiLCJmbGV4IiwiYmFja2dyb3VuZENvbG9yIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImFsaWduU2VsZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBV0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBakJBLElBQUlBLE1BQU0sR0FBSSxR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QXlCLElBQUEsRUFBRSxFQUFFLENBQUNSLFVBQUQsSUFBZSxFQUFFLGNBQWNBLFVBQWhCLENBQTVDO0FBQXlFLElBQUEsS0FBSyxFQUFFbUIsd0JBQVdDLE9BQVgsQ0FBbUIsQ0FBQ0MsTUFBTSxDQUFDUSxJQUFSLEVBQWM3QixVQUFVLElBQUlBLFVBQTVCLENBQW5CLENBQWhGO0FBQTZJLElBQUEsYUFBYSxFQUFFUztBQUE1SixLQUNHWixLQURILENBSkYsRUFPR0MsUUFQSCxDQXRCTSxDQUFSO0FBZ0NILENBeEREOzs7O0FBeURBLElBQU11QixNQUFNLEdBQUdGLHdCQUFXVyxNQUFYLENBQWtCO0FBQzdCUixFQUFBQSxjQUFjLEVBQUU7QUFDWlMsSUFBQUEsSUFBSSxFQUFFO0FBRE0sR0FEYTtBQUk3QkYsRUFBQUEsSUFBSSxFQUFFO0FBQ0ZHLElBQUFBLGVBQWUsRUFBRSxlQURmO0FBRUZDLElBQUFBLFlBQVksRUFBRTtBQUZaLEdBSnVCO0FBUTdCTCxFQUFBQSxnQkFBZ0IsRUFBRTtBQUNkTSxJQUFBQSxVQUFVLEVBQUUsRUFERTtBQUVkQyxJQUFBQSxhQUFhLEVBQUUsQ0FGRDtBQUdkQyxJQUFBQSxXQUFXLEVBQUUsRUFIQztBQUlkQyxJQUFBQSxZQUFZLEVBQUU7QUFKQSxHQVJXO0FBYzdCVixFQUFBQSxhQUFhLEVBQUU7QUFDWEQsSUFBQUEsY0FBYyxFQUFFLFFBREw7QUFFWEQsSUFBQUEsVUFBVSxFQUFFLFFBRkQ7QUFHWGEsSUFBQUEsU0FBUyxFQUFFO0FBSEE7QUFkYyxDQUFsQixDQUFmOztlQXFCZSx1QkFBVTlDLElBQVYsRUFBZ0IsTUFBaEIsQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBWaWV3LCBTdHlsZVNoZWV0LCBEaW1lbnNpb25zLCBUb3VjaGFibGVPcGFjaXR5LCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IEltYWdlIGZyb20gJy4uL2ltYWdlL0ltYWdlJztcbmltcG9ydCBUZXh0IGZyb20gJy4uL3RleHQvVGV4dCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29ucy9JY29uJztcbmltcG9ydCBGZWF0dXJlZFRpbGUgZnJvbSAnLi9GZWF0dXJlZFRpbGUnO1xuY29uc3QgVGlsZSA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZmVhdHVyZWQsIGltYWdlU3JjLCBpY29uLCB0aXRsZSwgY2hpbGRyZW4sIGNhcHRpb24sIHRpdGxlU3R5bGUsIG9uUHJlc3MsIGFjdGl2ZU9wYWNpdHksIG92ZXJsYXlDb250YWluZXJTdHlsZSwgY2FwdGlvblN0eWxlLCBpY29uQ29udGFpbmVyU3R5bGUsIGltYWdlQ29udGFpbmVyU3R5bGUsIGNvbnRhaW5lclN0eWxlLCBjb250ZW50Q29udGFpbmVyU3R5bGUsIHRpdGxlTnVtYmVyT2ZMaW5lcywgSW1hZ2VDb21wb25lbnQgPSBJbWFnZSwgaW1hZ2VQcm9wcyA9IHt9IH0gPSBwcm9wcywgYXR0cmlidXRlcyA9IF9fcmVzdChwcm9wcywgW1wiZmVhdHVyZWRcIiwgXCJpbWFnZVNyY1wiLCBcImljb25cIiwgXCJ0aXRsZVwiLCBcImNoaWxkcmVuXCIsIFwiY2FwdGlvblwiLCBcInRpdGxlU3R5bGVcIiwgXCJvblByZXNzXCIsIFwiYWN0aXZlT3BhY2l0eVwiLCBcIm92ZXJsYXlDb250YWluZXJTdHlsZVwiLCBcImNhcHRpb25TdHlsZVwiLCBcImljb25Db250YWluZXJTdHlsZVwiLCBcImltYWdlQ29udGFpbmVyU3R5bGVcIiwgXCJjb250YWluZXJTdHlsZVwiLCBcImNvbnRlbnRDb250YWluZXJTdHlsZVwiLCBcInRpdGxlTnVtYmVyT2ZMaW5lc1wiLCBcIkltYWdlQ29tcG9uZW50XCIsIFwiaW1hZ2VQcm9wc1wiXSk7XG4gICAgY29uc3QgeyB3aWR0aCA9IERpbWVuc2lvbnMuZ2V0KCd3aW5kb3cnKS53aWR0aCwgaGVpZ2h0ID0gd2lkdGggKiAwLjgsIH0gPSBwcm9wcztcbiAgICBpZiAoZmVhdHVyZWQpIHtcbiAgICAgICAgY29uc3QgZmVhdHVyZWRQcm9wcyA9IHtcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgaWNvbixcbiAgICAgICAgICAgIGNhcHRpb24sXG4gICAgICAgICAgICBpbWFnZVNyYyxcbiAgICAgICAgICAgIG9uUHJlc3MsXG4gICAgICAgICAgICBhY3RpdmVPcGFjaXR5LFxuICAgICAgICAgICAgY29udGFpbmVyU3R5bGUsXG4gICAgICAgICAgICBpbWFnZUNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgb3ZlcmxheUNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgICAgdGl0bGVTdHlsZSxcbiAgICAgICAgICAgIGNhcHRpb25TdHlsZSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgaW1hZ2VQcm9wcyxcbiAgICAgICAgICAgIEltYWdlQ29tcG9uZW50LFxuICAgICAgICB9O1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIDxGZWF0dXJlZFRpbGUgey4uLmZlYXR1cmVkUHJvcHN9Lz47XG4gICAgfVxuICAgIHJldHVybiAoPFRvdWNoYWJsZU9wYWNpdHkgey4uLmF0dHJpYnV0ZXN9IG9uUHJlc3M9e29uUHJlc3N9IGFjdGl2ZU9wYWNpdHk9e2FjdGl2ZU9wYWNpdHl9IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgXG4gICAgICA8SW1hZ2VDb21wb25lbnQgcmVzaXplTW9kZT1cImNvdmVyXCIgc291cmNlPXtpbWFnZVNyY30gY29udGFpbmVyU3R5bGU9e1N0eWxlU2hlZXQuZmxhdHRlbihbXG4gICAgICAgIHN0eWxlcy5pbWFnZUNvbnRhaW5lcixcbiAgICAgICAgaW1hZ2VDb250YWluZXJTdHlsZSAmJiBpbWFnZUNvbnRhaW5lclN0eWxlLFxuICAgIF0pfSBzdHlsZT17T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBTdHlsZVNoZWV0LmFic29sdXRlRmlsbE9iamVjdCksIHsgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9KX0gey4uLmltYWdlUHJvcHN9PlxuICAgICAgICA8VmlldyBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgc3R5bGVzLmljb25Db250YWluZXIsXG4gICAgICAgIGljb25Db250YWluZXJTdHlsZSAmJiBpY29uQ29udGFpbmVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgICAgIHtpY29uICYmIChcbiAgICAvL0B0cy1pZ25vcmVcbiAgICA8SWNvbiB7Li4uaWNvbn0vPil9XG4gICAgICAgIDwvVmlldz5cbiAgICAgIDwvSW1hZ2VDb21wb25lbnQ+XG5cbiAgICAgIDxWaWV3IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICBzdHlsZXMuY29udGVudENvbnRhaW5lcixcbiAgICAgICAgY29udGVudENvbnRhaW5lclN0eWxlICYmIGNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdKX0+XG4gICAgICAgIDxUZXh0IHRlc3RJRD1cInRpbGVUaXRsZVwiIGg0PXshdGl0bGVTdHlsZSB8fCAhKCdmb250U2l6ZScgaW4gdGl0bGVTdHlsZSl9IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW3N0eWxlcy50ZXh0LCB0aXRsZVN0eWxlICYmIHRpdGxlU3R5bGVdKX0gbnVtYmVyT2ZMaW5lcz17dGl0bGVOdW1iZXJPZkxpbmVzfT5cbiAgICAgICAgICB7dGl0bGV9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9WaWV3PlxuICAgIDwvVG91Y2hhYmxlT3BhY2l0eT4pO1xufTtcbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICBpbWFnZUNvbnRhaW5lcjoge1xuICAgICAgICBmbGV4OiAyLFxuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDApJyxcbiAgICAgICAgbWFyZ2luQm90dG9tOiA1LFxuICAgIH0sXG4gICAgY29udGVudENvbnRhaW5lcjoge1xuICAgICAgICBwYWRkaW5nVG9wOiAxNSxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogNSxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IDE1LFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IDE1LFxuICAgIH0sXG4gICAgaWNvbkNvbnRhaW5lcjoge1xuICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgIH0sXG59KTtcbmV4cG9ydCB7IFRpbGUgfTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShUaWxlLCAnVGlsZScpO1xuIl19