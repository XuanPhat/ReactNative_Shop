89a70a1203dd48d9620232e646eb6987
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.FeaturedTile = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _config = require("../config");

var _helpers = require("../helpers");

var _Text = _interopRequireDefault(require("../text/Text"));

var _Icon = _interopRequireDefault(require("../icons/Icon"));

var __rest = this && this.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var renderText = function renderText(content, defaultProps, style) {
  return (0, _helpers.renderNode)(_Text.default, content, Object.assign(Object.assign({}, defaultProps), {
    style: _reactNative.StyleSheet.flatten([style, defaultProps && defaultProps.style])
  }));
};

var FeaturedTile = function FeaturedTile(props) {
  var title = props.title,
      icon = props.icon,
      caption = props.caption,
      imageSrc = props.imageSrc,
      containerStyle = props.containerStyle,
      imageContainerStyle = props.imageContainerStyle,
      overlayContainerStyle = props.overlayContainerStyle,
      iconContainerStyle = props.iconContainerStyle,
      titleStyle = props.titleStyle,
      captionStyle = props.captionStyle,
      _props$ImageComponent = props.ImageComponent,
      ImageComponent = _props$ImageComponent === void 0 ? _config.BackgroundImage : _props$ImageComponent,
      _props$imageProps = props.imageProps,
      imageProps = _props$imageProps === void 0 ? {} : _props$imageProps,
      attributes = __rest(props, ["title", "icon", "caption", "imageSrc", "containerStyle", "imageContainerStyle", "overlayContainerStyle", "iconContainerStyle", "titleStyle", "captionStyle", "ImageComponent", "imageProps"]);

  var _props$width = props.width,
      width = _props$width === void 0 ? _reactNative.Dimensions.get('window').width : _props$width,
      _props$height = props.height,
      height = _props$height === void 0 ? width * 0.8 : _props$height;

  var styles = _reactNative.StyleSheet.create({
    container: {
      width: width,
      height: height
    },
    imageContainer: {
      alignItems: 'center',
      justifyContent: 'center',
      width: width,
      height: height
    },
    overlayContainer: {
      flex: 1,
      alignItems: 'center',
      alignSelf: 'stretch',
      justifyContent: 'center',
      paddingLeft: 25,
      paddingRight: 25,
      paddingTop: 45,
      paddingBottom: 40,
      position: 'absolute',
      top: 0,
      left: 0,
      right: 0,
      bottom: 0
    },
    text: {
      color: '#ffffff',
      backgroundColor: 'rgba(0,0,0,0)',
      marginBottom: 15,
      textAlign: 'center'
    },
    iconContainer: {
      justifyContent: 'center',
      alignItems: 'center',
      alignSelf: 'center'
    }
  });

  return _react.default.createElement(_reactNative.TouchableOpacity, (0, _extends2.default)({}, attributes, {
    style: _reactNative.StyleSheet.flatten([styles.container, containerStyle && containerStyle])
  }), _react.default.createElement(ImageComponent, (0, _extends2.default)({
    resizeMode: "cover"
  }, imageProps, {
    source: imageSrc,
    style: _reactNative.StyleSheet.flatten([styles.imageContainer, imageContainerStyle && imageContainerStyle])
  }), _react.default.createElement(_reactNative.View, {
    style: _reactNative.StyleSheet.flatten([styles.overlayContainer, overlayContainerStyle && overlayContainerStyle])
  }, _react.default.createElement(_reactNative.View, {
    style: _reactNative.StyleSheet.flatten([styles.iconContainer, iconContainerStyle && iconContainerStyle])
  }, icon && _react.default.createElement(_Icon.default, icon)), _react.default.createElement(_Text.default, {
    testID: "featuredTileTitle",
    h4: !titleStyle || !('fontSize' in titleStyle),
    style: _reactNative.StyleSheet.flatten([styles.text, titleStyle && titleStyle])
  }, title), renderText(caption, {
    style: captionStyle
  }, styles.text))));
};

exports.FeaturedTile = FeaturedTile;

var _default = (0, _config.withTheme)(FeaturedTile, 'FeaturedTile');

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZlYXR1cmVkVGlsZS5qcyJdLCJuYW1lcyI6WyJfX3Jlc3QiLCJzIiwiZSIsInQiLCJwIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInJlbmRlclRleHQiLCJjb250ZW50IiwiZGVmYXVsdFByb3BzIiwic3R5bGUiLCJUZXh0IiwiYXNzaWduIiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJGZWF0dXJlZFRpbGUiLCJwcm9wcyIsInRpdGxlIiwiaWNvbiIsImNhcHRpb24iLCJpbWFnZVNyYyIsImNvbnRhaW5lclN0eWxlIiwiaW1hZ2VDb250YWluZXJTdHlsZSIsIm92ZXJsYXlDb250YWluZXJTdHlsZSIsImljb25Db250YWluZXJTdHlsZSIsInRpdGxlU3R5bGUiLCJjYXB0aW9uU3R5bGUiLCJJbWFnZUNvbXBvbmVudCIsIkJhY2tncm91bmRJbWFnZSIsImltYWdlUHJvcHMiLCJhdHRyaWJ1dGVzIiwid2lkdGgiLCJEaW1lbnNpb25zIiwiZ2V0IiwiaGVpZ2h0Iiwic3R5bGVzIiwiY3JlYXRlIiwiY29udGFpbmVyIiwiaW1hZ2VDb250YWluZXIiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJvdmVybGF5Q29udGFpbmVyIiwiZmxleCIsImFsaWduU2VsZiIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRleHQiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsIm1hcmdpbkJvdHRvbSIsInRleHRBbGlnbiIsImljb25Db250YWluZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQVdBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQWhCQSxJ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QSxJQUFWLENBTk0sQ0FKRixFQVlFLDZCQUFDLGFBQUQ7QUFBTSxJQUFBLE1BQU0sRUFBQyxtQkFBYjtBQUFpQyxJQUFBLEVBQUUsRUFBRSxDQUFDTyxVQUFELElBQWUsRUFBRSxjQUFjQSxVQUFoQixDQUFwRDtBQUFpRixJQUFBLEtBQUssRUFBRVosd0JBQVdDLE9BQVgsQ0FBbUIsQ0FBQ3FCLE1BQU0sQ0FBQ2tCLElBQVIsRUFBYzVCLFVBQVUsSUFBSUEsVUFBNUIsQ0FBbkI7QUFBeEYsS0FDR1IsS0FESCxDQVpGLEVBZUdWLFVBQVUsQ0FBQ1ksT0FBRCxFQUFVO0FBQUVULElBQUFBLEtBQUssRUFBRWdCO0FBQVQsR0FBVixFQUFtQ1MsTUFBTSxDQUFDa0IsSUFBMUMsQ0FmYixDQUpGLENBSk0sQ0FBUjtBQTJCSCxDQXBFRDs7OztlQXNFZSx1QkFBVXRDLFlBQVYsRUFBd0IsY0FBeEIsQyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUb3VjaGFibGVPcGFjaXR5LCBWaWV3LCBTdHlsZVNoZWV0LCBEaW1lbnNpb25zIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IEJhY2tncm91bmRJbWFnZSwgd2l0aFRoZW1lIH0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCB7IHJlbmRlck5vZGUgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCBUZXh0IGZyb20gJy4uL3RleHQvVGV4dCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29ucy9JY29uJztcbmNvbnN0IHJlbmRlclRleHQgPSAoY29udGVudCwgZGVmYXVsdFByb3BzLCBzdHlsZSkgPT4gcmVuZGVyTm9kZShUZXh0LCBjb250ZW50LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRQcm9wcyksIHsgc3R5bGU6IFN0eWxlU2hlZXQuZmxhdHRlbihbc3R5bGUsIGRlZmF1bHRQcm9wcyAmJiBkZWZhdWx0UHJvcHMuc3R5bGVdKSB9KSk7XG5jb25zdCBGZWF0dXJlZFRpbGUgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHRpdGxlLCBpY29uLCBjYXB0aW9uLCBpbWFnZVNyYywgY29udGFpbmVyU3R5bGUsIGltYWdlQ29udGFpbmVyU3R5bGUsIG92ZXJsYXlDb250YWluZXJTdHlsZSwgaWNvbkNvbnRhaW5lclN0eWxlLCB0aXRsZVN0eWxlLCBjYXB0aW9uU3R5bGUsIEltYWdlQ29tcG9uZW50ID0gQmFja2dyb3VuZEltYWdlLCBpbWFnZVByb3BzID0ge30gfSA9IHByb3BzLCBhdHRyaWJ1dGVzID0gX19yZXN0KHByb3BzLCBbXCJ0aXRsZVwiLCBcImljb25cIiwgXCJjYXB0aW9uXCIsIFwiaW1hZ2VTcmNcIiwgXCJjb250YWluZXJTdHlsZVwiLCBcImltYWdlQ29udGFpbmVyU3R5bGVcIiwgXCJvdmVybGF5Q29udGFpbmVyU3R5bGVcIiwgXCJpY29uQ29udGFpbmVyU3R5bGVcIiwgXCJ0aXRsZVN0eWxlXCIsIFwiY2FwdGlvblN0eWxlXCIsIFwiSW1hZ2VDb21wb25lbnRcIiwgXCJpbWFnZVByb3BzXCJdKTtcbiAgICBjb25zdCB7IHdpZHRoID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpLndpZHRoLCBoZWlnaHQgPSB3aWR0aCAqIDAuOCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VDb250YWluZXI6IHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgIH0sXG4gICAgICAgIG92ZXJsYXlDb250YWluZXI6IHtcbiAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduU2VsZjogJ3N0cmV0Y2gnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDI1LFxuICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAyNSxcbiAgICAgICAgICAgIHBhZGRpbmdUb3A6IDQ1LFxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogNDAsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDoge1xuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAxNSxcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICAgIGljb25Db250YWluZXI6IHtcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gKDxUb3VjaGFibGVPcGFjaXR5IHsuLi5hdHRyaWJ1dGVzfSBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgc3R5bGVzLmNvbnRhaW5lcixcbiAgICAgICAgY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgPEltYWdlQ29tcG9uZW50IHJlc2l6ZU1vZGU9XCJjb3ZlclwiIHsuLi5pbWFnZVByb3BzfSBzb3VyY2U9e2ltYWdlU3JjfSBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgc3R5bGVzLmltYWdlQ29udGFpbmVyLFxuICAgICAgICBpbWFnZUNvbnRhaW5lclN0eWxlICYmIGltYWdlQ29udGFpbmVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgICA8VmlldyBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgc3R5bGVzLm92ZXJsYXlDb250YWluZXIsXG4gICAgICAgIG92ZXJsYXlDb250YWluZXJTdHlsZSAmJiBvdmVybGF5Q29udGFpbmVyU3R5bGUsXG4gICAgXSl9PlxuICAgICAgICAgIDxWaWV3IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICBzdHlsZXMuaWNvbkNvbnRhaW5lcixcbiAgICAgICAgaWNvbkNvbnRhaW5lclN0eWxlICYmIGljb25Db250YWluZXJTdHlsZSxcbiAgICBdKX0+XG4gICAgICAgICAgICB7aWNvbiAmJiAoXG4gICAgLy9AdHMtaWdub3JlXG4gICAgPEljb24gey4uLmljb259Lz4pfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgICA8VGV4dCB0ZXN0SUQ9XCJmZWF0dXJlZFRpbGVUaXRsZVwiIGg0PXshdGl0bGVTdHlsZSB8fCAhKCdmb250U2l6ZScgaW4gdGl0bGVTdHlsZSl9IHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW3N0eWxlcy50ZXh0LCB0aXRsZVN0eWxlICYmIHRpdGxlU3R5bGVdKX0+XG4gICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIHtyZW5kZXJUZXh0KGNhcHRpb24sIHsgc3R5bGU6IGNhcHRpb25TdHlsZSB9LCBzdHlsZXMudGV4dCl9XG4gICAgICAgIDwvVmlldz5cbiAgICAgIDwvSW1hZ2VDb21wb25lbnQ+XG4gICAgPC9Ub3VjaGFibGVPcGFjaXR5Pik7XG59O1xuZXhwb3J0IHsgRmVhdHVyZWRUaWxlIH07XG5leHBvcnQgZGVmYXVsdCB3aXRoVGhlbWUoRmVhdHVyZWRUaWxlLCAnRmVhdHVyZWRUaWxlJyk7XG4iXX0=